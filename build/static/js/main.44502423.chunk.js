(this.webpackJsonpcampuskostreact=this.webpackJsonpcampuskostreact||[]).push([[0],{51:function(e,t,n){e.exports=n(71)},60:function(e,t,n){},62:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(16),c=n.n(r),i=n(17),l=n(28),s=n(20);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{num:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return d({},e,{num:e.num+t.step});case"DECREMENT":return d({},e,{num:e.num-t.step});default:return e}},p=(n(60),n(35)),f=n.n(p),g=n(43),h=n(7),b=n(24),v=n(18),E=(n(62),n(9)),O=n.n(E),w=(n(31),n(41),n(87)),j=Object(w.a)({body:{padding:15}});var y=function(e){var t=o.a.useState(!1),n=Object(h.a)(t,2),a=n[0],r=(n[1],o.a.useState(!1)),c=Object(h.a)(r,2),i=c[0];return c[1],console.log("signedIn: "+a),j(),o.a.createElement("div",null,i?o.a.createElement(v.a,{to:"/"}):null,o.a.createElement("h1",null,"Hey you"),!1===a&&o.a.createElement("p",null," Hey you're not signed in. Things won't work here (redirect back) "),o.a.createElement("button",{onClick:function(){return O.a.auth().signOut()},name:"signout"}," Logga ut "))},k=Object(w.a)({body:{padding:15}});var S=function(e){return k(),o.a.createElement("div",null,o.a.createElement("h1",null,"Dina notiser"))},C=Object(w.a)({body:{padding:15}});var A=function(e){return C(),o.a.createElement("div",null,o.a.createElement("h1",null,"Dina listor"))},N=Object(w.a)({body:{padding:15}});var I=function(e){N();var t=Object(i.c)((function(e){return e})),n=Object(i.b)();return o.a.createElement("div",null,o.a.createElement("h1",null,"Upload"),o.a.createElement("h1",null,t.num),o.a.createElement("button",{onClick:function(){return n({type:"INCREMENT",step:1})}},"Redux increment test"))};var P=function(e){return o.a.createElement("div",null,o.a.createElement("h1",null,"Recept: ",e.match.params.recipe))};var R=function(e){var t=Object(a.useState)(""),n=Object(h.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),l=Object(h.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)("Ej inloggad"),m=Object(h.a)(d,2),p=m[0],f=m[1],g=Object(a.useState)("Logga in"),b=Object(h.a)(g,2),v=b[0],E=b[1];return Object(a.useEffect)((function(){console.log("initApp"),O.a.auth().onAuthStateChanged((function(e){e?(e.displayName,e.email,e.emailVerified,e.photoURL,e.isAnonymous,e.uid,e.providerData,console.log("user json: "),console.log(JSON.stringify(e,null,"  ")),f("Inloggad"),E("Logga ut")):(f("Ej inloggad"),E("Logga in"))}))}),[]),o.a.createElement("div",null,o.a.createElement("p",null,"Ange email and l\xf6senord f\xf6r att logga in eller skapa ett konto"),o.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:function(e){return c(e.target.value)}}),"\xa0\xa0\xa0",o.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:function(e){return u(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){if(console.log("toggleSignIn"),O.a.auth().currentUser)O.a.auth().signOut();else{if(r.length<4)return void alert("Ogiltig mailadress, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken.");if(s.length<4)return void alert("Ogiltigt l\xf6senord, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken.");O.a.auth().signInWithEmailAndPassword(r,s).catch((function(e){var t=e.code,n=e.message;"auth/wrong-password"===t?alert("fel l\xf6senord."):alert(n),console.log(e)}))}},name:"signin"}," ",v," "),"\xa0\xa0\xa0",o.a.createElement("button",{onClick:function(){console.log("handleSignUp"),r.length<4?alert("Ogiltig mailadress, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken"):s.length<4?alert("Ogiltigt l\xf6senord, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken"):O.a.auth().createUserWithEmailAndPassword(r,s).catch((function(e){var t=e.code,n=e.message;"auth/weak-password"==t?alert("L\xf6senordet \xe4r f\xf6r svagt."):alert(n),console.log(e)}))},name:"signup"},"Skapa konto"),"\xa0\xa0\xa0",o.a.createElement("button",{onClick:function(){O.a.auth().currentUser.sendEmailVerification().then((function(){alert("Email Verification Sent!")}))},name:"verify"},"Verifiera konto"),o.a.createElement("span",{id:"quickstart-sign-in-status"}," \xa0 ",p," "))},U=n(89),D=n(90),x=n(46),L=n.n(x),W=n(47),M=n.n(W),T=n(48),B=n.n(T),H=n(45),J=n.n(H);n(67).config();var V,_="AIzaSyAq0vTBf0o5MckjHcCOJiJ_DRK8v_UZY88";window.addEventListener("beforeinstallprompt",(function(e){(V=e).prompt(),V.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),V=null}))}));var F=Object(w.a)({body:{padding:15},footer:{position:"fixed",left:0,bottom:0,width:"100%",display:"flex",justifyContent:"center"},bottomMenu:{width:500},imageContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginBottom:50},foodImg:{backgroundColor:"pink",height:100,width:100,margin:5,borderRadius:20}});function q(e){var t=F();return o.a.createElement(b.b,{to:"/recipe/"+e.data.title},o.a.createElement("div",null,o.a.createElement("div",{className:t.foodImg}),e.data.title))}function z(){var e=Object(a.useState)(void 0),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(void 0),i=Object(h.a)(c,2),l=(i[0],i[1]),s=Object(a.useState)(void 0),u=Object(h.a)(s,2);u[0],u[1];Object(a.useEffect)((function(){b()}),[]);var d=F(),m=K.collection("recipes"),p=function(e){console.log("remove "+e+" from parent component ")},b=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.get().then((function(e){var t=[],n=[];e.forEach((function(e){t.push(o.a.createElement(q,{key:e.id,listId:e.id,data:e.data(),removeFunction:p})),n.push(e.data())})),r(t),l(n)})).catch((function(e){console.log("Error getting documents",e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement("h1",null,"Nya recept!"),o.a.createElement("div",{className:d.imageContainer},n))}var K=void 0;var Z=function(){var e=o.a.useState(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],c=o.a.useState(""),i=Object(h.a)(c,2),l=i[0],s=i[1],u=o.a.useState(!1),d=Object(h.a)(u,2),m=d[0],p=d[1];Object(a.useEffect)((function(){O.a.auth().onAuthStateChanged((function(e){r(!!e)}))}),[]),void 0===K&&(K=function(){console.log("run initFirebase");var e={apiKey:_,authDomain:"campuskost-firebase.firebaseapp.com",databaseURL:"https://campuskost-firebase.firebaseio.com",projectId:"campuskost-firebase",storageBucket:"campuskost-firebase.appspot.com",messagingSenderId:"477692438735",appId:"1:477692438735:web:2e6dce163d7f7ce8baafba",measurementId:"G-MDB52ZHJER"};return O.a.initializeApp(e),O.a.firestore()}());var f=F(),g=function(e,t){p(!0);var n=e.target.value;s(void 0!=n?n:t)};console.log("signedIn: "+n);var E=!0===n?"profile":"login";return console.log("profile_or_login: "+E),console.log("value: "+l),o.a.createElement("div",{className:f.body},o.a.createElement(b.a,null,m?o.a.createElement(v.a,{to:"/"+l}):null,o.a.createElement("div",{className:f.mainContainer},o.a.createElement("button",{value:E,onClick:function(e){return g(e)}},E),o.a.createElement(v.d,null,o.a.createElement(v.b,{exact:!0,path:"/"},o.a.createElement(z,null)),o.a.createElement(v.b,{path:"/login",component:R}),o.a.createElement(v.b,{path:"/profile",component:y}),o.a.createElement(v.b,{path:"/upload",component:I}),o.a.createElement(v.b,{path:"/notices",component:S}),o.a.createElement(v.b,{path:"/saved",component:A}),o.a.createElement(v.b,{path:"/recipe/:recipe",component:P}))),o.a.createElement("div",{className:f.footer},o.a.createElement(U.a,{value:l,onChange:g,className:f.bottomMenu},o.a.createElement(D.a,{label:"Fl\xf6de",value:"",icon:o.a.createElement(J.a,null)}),o.a.createElement(D.a,{label:"Ladda up",value:"upload",icon:o.a.createElement(L.a,null)}),o.a.createElement(D.a,{label:"Notiser",value:"notices",icon:o.a.createElement(M.a,null)}),o.a.createElement(D.a,{label:"Sparat",value:"saved",icon:o.a.createElement(B.a,null)})))))},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var $=Object(l.b)(m),Q=document.getElementById("root");c.a.render(o.a.createElement(i.a,{store:$},o.a.createElement(Z,null)),Q),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");G?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(t,e)}))}}()}},[[51,1,2]]]);
//# sourceMappingURL=main.44502423.chunk.js.map