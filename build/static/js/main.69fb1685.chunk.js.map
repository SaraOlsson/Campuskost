{"version":3,"sources":["assets sync /^/.*/.jpg$","assets/temp_food1.jpg","assets/userchef.png","assets/temp_food2.jpg","assets/temp_food3.jpg","assets/temp_food4.jpg","assets/temp_food5.jpg","store.js","components/recipeitem.js","components/recipegrid.js","pages/feedpage.js","components/userpagetabs.js","components/followerlist.js","components/listcontainer.js","pages/favoritepage.js","pages/profilepage.js","pages/noticepage.js","components/fileinput.js","components/validcheck.js","theme.js","components/descriptionlist.js","components/ingredientslist.js","pages/uploadpage.js","pages/recipepage.js","pages/login.js","pages/settings.js","pages/searchpage.js","components/topmenubar.js","App.js","serviceWorker.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","rootReducer","combineReducers","fireReducer","state","db","undefined","storage","auth_user","firestore_user","action","type","testReducers","num","url","step","uploadReducer","title","ingredients","descriptions","image","userReducer","signedIn","useStyles","makeStyles","listimage","maxHeight","maxWidth","minWidth","minHeight","objectFit","listtile_small","padding","listtile","RecipeItem","props","img_src","React","useState","history","useHistory","classes","recipe","r_img","img","img_url","require","tile_jsx","handeRecipeClick","clicked_recipe","push","src","className","alt","smalltiles","GridListTile","key","onClick","GridListTileBar","subtitle","user","Fragment","root","display","flexWrap","justifyContent","overflow","icon","color","spinner","marginTop","RecipeGridList","images","setImages","useEffect","images_temp","recipes","idx","GridList","length","Spinner","ScrollableRecipes","concat","Grid","container","spacing","justify","scrolldiv","item","xs","scrolltitle","scrollimage","scrolltext","NewsContainer","temp_recipe","alignItems","newscontainer","imageContainer","flexDirection","marginBottom","grid_background","backgroundColor","paddingTop","foodImg","height","width","margin","borderRadius","imagesidebar","triedby","background","textAlign","alignSelf","FeedPage","setRecipes","scrollview","store","useSelector","recpiesRef","collection","recipeFetcher","onSnapshot","querySnapshot","recipe_docs","forEach","doc","data","name","fadeIn","TabPanel","children","value","index","other","Typography","component","role","hidden","aria-labelledby","Box","p","a11yProps","theme","flexGrow","palette","paper","SimpleTabs","setValue","AppBar","position","Tabs","onChange","event","newValue","aria-label","Tab","label","FollowerListItem","ListItem","ListItemAvatar","Avatar","ListItemText","primary","username","secondary","fullname","handleChange","ListItemSecondaryAction","IconButton","edge","follows","followColor","notfollowColor","followerlist","FollowerList","followData","setFollowData","handleUserClick","followerData","followersjsx","List","dense","listcontainer","list_header","ListContainer","refs","recipe_refs_fetcher","list","recipe_fetcher","refs_list","temp_recipes","continue_until","likes_doc","list_ref","get","then","list_doc","exists","fetch_it","list_data","onlyMine","console","log","created_by","myEmail","recipe_ref","catch","error","recipe_id_list","recipe_id","spinner_jsx","recipeContent","listname","style","FavoritePage","lists","setLists","myLists","setMyLists","refList","setRefList","otheruser","listFetcher","likedFetcher","myFetchPromise_wrapper","loadedDocs","myFirstPromise","successMessage","current_username","Promise","reject","citiesRef","list_docs","where","snapshot","empty","err","setTimeout","likesRef","grouped_by_list","query","email","path_segments","_key","path","segments","prop","no_lists_text","liked_list_jsx","my_list_jsx","lists_I_follow","counter","entries","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","fontWeight","ExpansionPanelDetails","userinfo","ProfilePage","useParams","ifUser","setIfUser","followInfo","setFollowInfo","followingInfo","setFollowingInfo","following","following_this_user","setFollowing_this_user","url_user","recipeFetcher_new","followFetcher","doc_email","found","followBtn","followUser","delete","set","current_user_email","follow_docs","followBuilder","callback","followers","i","callback2","Button","variant","startIcon","userchef","body","B","NoticeListItem","noticeText","userClick","recipeClick","time","NoticePage","noop","FileInput","rest","Boolean","f","join","fontSize","boxSizing","transition","fontFamily","lineHeight","letterSpacing","boxShadow","target","files","nomargin","ValidCheck","FormControlLabel","disabled","control","Checkbox","checked","createMuiTheme","purple","green","status","danger","buttontext","textTransform","input","loadedimage","formlabel","marginRight","imagediv","uploaddiv","greenicon","redicon","newListItem","titlediv","DescriptionList","editObject","setEditObject","setOrder","text","setText","temp_description","description","initiate_descriptions","setDescriptions","dispatch","useDispatch","upload_store","ingredientsDisp","temp_descriptions","handleAdd","saveEdited","temp_list","slice","ind","indexOf","obj_copy","toUpperCase","descriptionjsx","desc","object","order","Divider","ingredientslist","new_obj","addDescription","TextField","InputLabelProps","shrink","onKeyPress","ev","preventDefault","enterPress","splice","IngredientsList","quantity","setQuantity","measure","setMeasure","setName","temp_ingredients","initiate_ingredients","setIngredients","ingredientsjsx","ingred","addIngredient","required","toLowerCase","UploadPage","bottom_content","setTitle","setFiles","setImage","setId","upload_wait","setUpload_wait","done","setDone","labelWidth","setLabelWidth","labelRef","useRef","valid","setValid","imageDisp","current","offsetWidth","uploadTask","firebase","ref","putString","on","getDownloadURL","downloadURL","uploadImage","returnValue_downloadURL","recipe_name","document","test","alert","FormControl","InputLabel","htmlFor","OutlinedInput","reader","FileReader","onload","result","readAsDataURL","RecipeDecsList","sort","desc1","desc2","descjsx","RecipeDecsListItem","len","setChecked","checkIcon","triedbyText","triedbyNum","recipeheader","RecipePage","setRecipe","likes","doc_id","saved","setSaved","tried","setTried","recipetitle","user_doc","queryRef","likeFetcher","recipe_doc","user_ref","user_data","disableTouchRipple","temp_ref","login_div","Login","setEmail","password","setPassword","signText","auth","currentUser","btn_color","placeholder","evt","signOut","signInWithEmailAndPassword","errorCode","errorMessage","message","createUserWithEmailAndPassword","buttons","rainbow","backgroundImage","Settings","username_textfield","setUsername_textfield","has_changed","setHas_changed","in_editmode","setIn_editmode","heading","update","SearchPage","users","setUsers","userFetcher","collection_name","temp_users","grow","menuButton","breakpoints","up","search","shape","fade","common","white","marginLeft","searchIcon","pointerEvents","inputRoot","inputInput","transitions","create","sectionDesktop","sectionMobile","whiteColor","buttonPad","ProfileBtn","btn","jsx_content","TopMenuBar","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","isMobileMenuOpen","handleMobileMenuClose","handleMenuClose","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","renderMobileMenu","Badge","badgeContent","currentTarget","aria-haspopup","Toolbar","goBack","noWrap","Link","to","textDecoration","InputBase","inputProps","onBlur","onFocus","location","pathname","config","deferredPrompt","window","addEventListener","prompt","userChoice","choiceResult","outcome","BottomMenuBar","BottomNavigation","val","handleMenuClick","bottomMenu","BottomNavigationAction","mainContainer","paddingBottom","footer","left","bottom","headerrow","top","profileBtn","App","state_user","onAuthStateChanged","uid","user_email","usersRef","docSnapshot","userObj","university","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","firestore","initFirebase","exact","isLocalhost","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","rootElement","getElementById","ReactDOM","render","URL","href","origin","fetch","response","contentType","headers","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.69fb1685.chunk.js","sourcesContent":["var map = {\n\t\"./temp_food1.jpg\": 265,\n\t\"./temp_food2.jpg\": 485,\n\t\"./temp_food3.jpg\": 486,\n\t\"./temp_food4.jpg\": 487,\n\t\"./temp_food5.jpg\": 488\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 187;","module.exports = __webpack_public_path__ + \"static/media/temp_food1.cd514d13.jpg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/temp_food2.03e2fd15.jpg\";","module.exports = __webpack_public_path__ + \"static/media/temp_food3.c3c706f6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/temp_food4.af2bb629.jpg\";","module.exports = __webpack_public_path__ + \"static/media/temp_food5.758c2926.jpg\";","import { createStore, combineReducers, compose } from 'redux'\r\n\r\nfunction testreducer(state = { num: 0, url: \"hey\" }, action) {\r\n  switch (action.type) {\r\n    case \"INCREMENT\":\r\n      return {\r\n        ...state,\r\n        num: state.num + action.step\r\n      };\r\n    case \"DECREMENT\":\r\n      return {\r\n        ...state,\r\n        num: state.num - action.step\r\n      };\r\n    default:\r\n      return state;\r\n    case \"SETURL\":\r\n      return {\r\n        ...state,\r\n        url: state.url\r\n      };\r\n  }\r\n}\r\n\r\nfunction uploadReducer(state = { title: undefined, ingredients: undefined, descriptions: undefined, image: undefined }, action) {\r\n  switch (action.type) {\r\n    case \"SETTITLE\":\r\n      return {\r\n        ...state,\r\n        title: action.title\r\n      };\r\n      case \"SETINGREDIENTS\":\r\n        return {\r\n          ...state,\r\n          ingredients: action.ingredients\r\n        };\r\n      case \"SETDESCRIPTIONS\":\r\n        return {\r\n          ...state,\r\n          descriptions: action.descriptions\r\n        };\r\n      case \"SETIMAGE\":\r\n        return {\r\n          ...state,\r\n          image: action.image\r\n        };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction userReducer(state = { signedIn: false }, action) {\r\n  switch (action.type) {\r\n    case \"SIGNIN\":\r\n      return {\r\n        ...state,\r\n        signedIn: true\r\n      };\r\n    case \"SIGNOUT\":\r\n      return {\r\n        ...state,\r\n        signedIn: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction fireReducer(state = { db: undefined, storage: undefined, auth_user: undefined, firestore_user: undefined }, action) {\r\n  switch (action.type) {\r\n    case \"SETDB\":\r\n      return {\r\n        ...state,\r\n        db: action.db\r\n      };\r\n    case \"SETSTORAGE\":\r\n      return {\r\n        ...state,\r\n        storage: action.storage\r\n      };\r\n    case \"SETUSER\":\r\n      return {\r\n        ...state,\r\n        auth_user: action.auth_user\r\n      };\r\n    case \"SETFIREUSER\":\r\n      return {\r\n        ...state,\r\n        firestore_user: action.firestore_user\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// export default reducer;\r\n//  firestore: firestoreReducer,\r\n\r\nconst rootReducer = combineReducers({\r\n  fireReducer: fireReducer,\r\n  testReducers: testreducer,\r\n  uploadReducer: uploadReducer,\r\n  userReducer: userReducer\r\n});\r\n\r\n export default rootReducer;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\n\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nfunction RecipeItem(props) {\r\n\r\n  const [redirect, setRedirect] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const recipe = props.recipe;\r\n\r\n  let r_img = ( recipe.img != undefined) ? recipe.img : 'temp_food1';\r\n  let img_src;\r\n\r\n\r\n  if  ( recipe.img_url != undefined) {\r\n    img_src = recipe.img_url;\r\n  } else {\r\n    img_src = require('../assets/'+ r_img + '.jpg');\r\n  }\r\n\r\n  const handeRecipeClick = (clicked_recipe) => {\r\n    history.push(\"/recipe/\" + clicked_recipe.title + \"/\" + clicked_recipe.id );\r\n  };\r\n\r\n\r\n  let image = <img src={img_src} className={classes.listimage} alt={recipe.title} alt={\"recipe img\"} />;\r\n\r\n  let tile_jsx;\r\n  if(props.smalltiles != undefined && props.smalltiles == false) {\r\n    tile_jsx = (\r\n    <GridListTile key={r_img} className={classes.listtile} onClick={() => handeRecipeClick(recipe)}>\r\n      {image}\r\n      <GridListTileBar\r\n        title={recipe.title}\r\n        subtitle={<span>Av: {recipe.user}</span>}\r\n      />\r\n    </GridListTile>);\r\n  } else {\r\n    tile_jsx = (\r\n    <GridListTile key={r_img} className={classes.listtile_small} onClick={() => handeRecipeClick(recipe)}>\r\n      {image}\r\n    </GridListTile>);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n    {tile_jsx}\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n/*\r\n\r\n{ true &&\r\n<GridListTile key={r_img} className={classes.listimage} onClick={() => handeRecipeClick(recipe)}>\r\n\r\n  <img src={img_src} alt={recipe.title} alt={\"recipe img\"}/>\r\n\r\n  <GridListTileBar\r\n    title={recipe.title}\r\n    subtitle={<span>Av: {recipe.user}</span>}\r\n  />\r\n\r\n</GridListTile>\r\n}*/\r\n\r\nconst useStyles = makeStyles({\r\n  listimage: {\r\n    maxHeight: '150px',\r\n    maxWidth: '150px',\r\n    minWidth: '150px',\r\n    minHeight: '150px',\r\n    objectFit: 'cover'\r\n  },\r\n  listtile_small: {\r\n    maxHeight: '100px',\r\n    maxWidth: '100px',\r\n    padding: '2px',\r\n  },\r\n  listtile: {\r\n    maxHeight: '150px',\r\n    maxWidth: '150px',\r\n    padding: '5px',\r\n  }\r\n});\r\n\r\nexport default RecipeItem;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\nimport RecipeItem from '../components/recipeitem';\r\n\r\n\r\n\r\nfunction RecipeGridList(props) {\r\n\r\n  const classes = useStyles();\r\n\r\n  const [images, setImages] = useState([]);\r\n  let smalltiles = (props.smalltiles) ? props.smalltiles : false;\r\n\r\n  useEffect(() => {\r\n\r\n    let images_temp = props.recipes.map((recipe, idx) =>\r\n      <RecipeItem recipe={recipe} key={idx} smalltiles={smalltiles}/>\r\n    );\r\n\r\n    setImages(images_temp);\r\n\r\n  }, []);\r\n\r\n  // console.log(\"images.length: \" + images.length)\r\n\r\n  // oh loading in parent component is what is taking time\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <GridList>\r\n      {images.length > 0 && images }\r\n      </GridList>\r\n    </div>\r\n  );\r\n}\r\n//    backgroundColor: '#f1f1f1',\r\n//    padding: '10px'\r\nconst useStyles = makeStyles({\r\n  root: {\r\n   display: 'flex',\r\n   flexWrap: 'wrap',\r\n   justifyContent: 'center',\r\n   overflow: 'hidden'\r\n  },\r\n  icon: {\r\n    color: 'rgba(255, 255, 255, 0.54)',\r\n  },\r\n  listimage: {\r\n    maxHeight: '150px',\r\n    maxWidth: '150px',\r\n    padding: '5px'\r\n  },\r\n  spinner: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: 100\r\n  }\r\n});\r\n\r\nexport default RecipeGridList;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { BrowserRouter as Link} from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useFirebaseConnect, isLoaded, isEmpty } from 'react-redux-firebase';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport recipeData from '../assets/recipes_dev';\r\nimport RecipeGridList from '../components/recipegrid';\r\nimport RecipeItem from '../components/recipeitem';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport Box from '@material-ui/core/Box';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\n\r\nvar Spinner = require('react-spinkit');\r\n\r\nfunction FeedPage() {\r\n\r\n  // const [images, setImages] = useState();\r\n  const [recipes, setRecipes] = useState(undefined);\r\n  const [docs, setDocs] = useState(undefined);\r\n  const [scrollview, setScrollview] = useState(true);\r\n\r\n  const classes = useStyles();\r\n  const store = useSelector(state => state.fireReducer);\r\n\r\n  useEffect(() => {\r\n    // someFetcher();\r\n    //usersRef.on('value', function(snap) { console.log(snap.val()); })\r\n    let recpiesRef = store.db.collection('recipes');\r\n    recipeFetcher(recpiesRef);\r\n\r\n  }, []);\r\n\r\n  const recipeFetcher = (recpiesRef) => {\r\n    store.db.collection(\"recipes\")\r\n    .onSnapshot(function(querySnapshot) {\r\n\r\n        let recipe_docs = [];\r\n        querySnapshot.forEach( doc => {\r\n          let data = doc.data();\r\n          data.id = doc.id;\r\n          recipe_docs.push(data);\r\n        });\r\n\r\n        setRecipes(recipe_docs);\r\n    });\r\n  }\r\n\r\n  // <div className={classes.imageContainer}>{images}</div>\r\n  // recipeData.PastaMaster.recipes\r\n// { recipes != undefined && <RecipeGridList imageData={recipes}/> }\r\n  if(scrollview === false )\r\n  {\r\n    return (\r\n\r\n      <div>\r\n\r\n      { recipes != undefined && <ScrollableRecipes recipes={recipes}/> }\r\n\r\n       </div>\r\n\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <NewsContainer/>\r\n      { recipes != undefined && <div className={classes.grid_background}><RecipeGridList recipes={recipes}/></div> }\r\n      { recipes === undefined && <div className={classes.spinner} ><Spinner name=\"ball-scale-multiple\" color=\"#68BB8C\" fadeIn=\"none\"/></div> }\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nfunction ScrollableRecipes(props) {\r\n\r\n  const classes = useStyles();\r\n  // className={classes.userinfo}\r\n\r\n  let recipes = props.recipes.concat(props.recipes);\r\n  recipes = recipes.concat(recipes);\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      spacing={1}\r\n      justify=\"center\"\r\n\r\n    >\r\n      {\r\n        recipes.map((recipe, idx) =>\r\n        <div className={classes.scrolldiv} key={idx}>\r\n        <Grid item xs={12}>\r\n        <h3 className={classes.scrolltitle}>\r\n          { recipe.title + ' | ' + recipe.user }\r\n        </h3>\r\n        </Grid>\r\n        <Grid item xs={12} >\r\n          <img src={require('../assets/'+ 'temp_food1' + '.jpg')} className={classes.scrollimage} alt={\"recipe img\"} />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n        <p className={classes.scrolltext}>\r\n          { 'Some text' }\r\n        </p>\r\n        </Grid>\r\n        </div>\r\n      )\r\n\r\n      }\r\n    </Grid>\r\n  );\r\n}\r\n\r\n\r\nfunction NewsContainer(props) {\r\n\r\n  const classes = useStyles();\r\n  // className={classes.userinfo}\r\n\r\n  let temp_recipe = {img: 'temp_food2', title: \"Svamprisotto\", user: \"LillKocken\"};\r\n\r\n  return (\r\n    <div>\r\n    <h3>Veckans poppis</h3>\r\n    <Grid\r\n      container\r\n      spacing={1}\r\n      justify=\"center\"\r\n      alignItems=\"center\"\r\n      className={classes.newscontainer}\r\n    >\r\n      <Grid item xs={5}>\r\n\r\n        <img src={require('../assets/'+ temp_recipe.img + '.jpg')} alt={temp_recipe.title} className={classes.listimage}/>\r\n\r\n      </Grid>\r\n      <Grid item xs={7}>\r\n        <h3>Vegetarisk lasagne</h3>\r\n        <h5>\"Bästa matlådan!\"</h5>\r\n      </Grid>\r\n\r\n    </Grid>\r\n\r\n    </div>\r\n  );\r\n\r\n\r\n}\r\n\r\nfunction ImageContainer(props) {\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Link to={\"/recipe/\" + props.data.title } >\r\n      <div>\r\n      <div className={classes.foodImg}></div>\r\n      {props.data.title}\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  imageContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    marginBottom: 50,\r\n  },\r\n  grid_background: {\r\n    backgroundColor: '#f1f1f1',\r\n    paddingTop: '10px'\r\n  },\r\n  foodImg: {\r\n    backgroundColor: 'pink',\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    borderRadius: 20\r\n  },\r\n  newscontainer: {\r\n    borderRadius: 20,\r\n    backgroundColor: '#f1f1f1',\r\n    marginBottom: 15\r\n  },\r\n  listimage: {\r\n    maxHeight: '90px',\r\n    maxWidth: '90px',\r\n    padding: '5px',\r\n    margin: '15px',\r\n    borderRadius: '10px'\r\n  },\r\n  spinner: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: 100\r\n  },\r\n  imagesidebar: {\r\n    padding: 5\r\n  },\r\n  triedby: {\r\n    background: '#f1f1f1',\r\n    borderRadius: '4px',\r\n    padding: 5,\r\n    textAlign: 'center'\r\n  },\r\n  scrollimage: {\r\n    maxWidth: '300px',\r\n  },\r\n  scrolltitle: {\r\n    alignSelf: 'flex-start'\r\n  },\r\n  scrolldiv: {\r\n    background: '#f2f2f2',\r\n    padding: '25px',\r\n    margin: '15px',\r\n    borderRadius: '12px'\r\n  },\r\n  scrolltext: {\r\n    color: 'black'\r\n  }\r\n});\r\n\r\nexport default FeedPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nexport default function SimpleTabs(props) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    //console.log(\"value: \" + value)\r\n  };\r\n\r\n  // console.log(props.children)\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n          <Tab label=\"Recept\" {...a11yProps(0)} />\r\n          <Tab label=\"Listor\" {...a11yProps(1)} />\r\n          <Tab label=\"Följare\" {...a11yProps(2)} />\r\n          <Tab label=\"Följer\" {...a11yProps(3)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        {props.children[0]}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        {props.children[1]}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        {props.children[2]}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        {props.children[3]}\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\n\r\nfunction FollowerListItem(props) {\r\n\r\n  const classes = useStyles();\r\n  let user = props.user;\r\n\r\n  return (\r\n\r\n    <ListItem>\r\n      <ListItemAvatar>\r\n        <Avatar>\r\n            <PersonIcon />\r\n        </Avatar>\r\n      </ListItemAvatar>\r\n\r\n      <ListItemText\r\n        primary= { user.username }\r\n        secondary={ user.fullname }\r\n        onClick={() => props.handleChange(user.username)}\r\n      />\r\n\r\n      <ListItemSecondaryAction>\r\n        <IconButton edge=\"end\" aria-label=\"follows\">\r\n          <CheckCircleIcon className={(user.follows ? classes.followColor : classes.notfollowColor)}/>\r\n        </IconButton>\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n\r\n  );\r\n\r\n}\r\n\r\n// className={(user.follows ? 'followColor' : 'notfollowColor')}\r\n\r\nfunction FollowerList(props) {\r\n\r\n  const [followData, setFollowData] = useState([]);\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const handleUserClick = (user) => {\r\n    history.push(\"/profile/\" + user );\r\n  };\r\n\r\n  // when url changes, on load and on user click\r\n  useEffect(() => {\r\n\r\n    //console.log(\"new props\")\r\n    setFollowData(props.followerData);\r\n\r\n  }, [props.followerData]);\r\n\r\n  //console.log(props.followerData)\r\n\r\n  if (false && props.followerData.length < 1) {\r\n    //console.log(\"sad\")\r\n    return (\r\n      <p>sad, no followers</p>\r\n    );\r\n  }\r\n\r\n  let followersjsx = followData.map((user, idx) =>\r\n    <FollowerListItem key={idx} user={user} handleChange={handleUserClick}/>\r\n  );\r\n\r\n  return (\r\n    <List dense={true} className={classes.followerlist}>\r\n      {followersjsx}\r\n    </List>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  followerlist: {\r\n   marginTop: '20px',\r\n },\r\n   followColor: {\r\n     color: '#39A4B3'\r\n   },\r\n   notfollowColor: {\r\n     color: '#e8e8e8'\r\n   }\r\n});\r\n\r\nexport default FollowerList;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RecipeGridList from '../components/recipegrid';\r\nvar Spinner = require('react-spinkit');\r\n// import RecipeGridList from '../components/recipegrid';\r\n\r\nfunction ListContainer(props) {\r\n\r\n  const [recipes, setRecipes] = React.useState([]);\r\n  const classes = useStyles();\r\n  const store = useSelector(state => state.fireReducer);\r\n\r\n  useEffect(() => {\r\n\r\n    // using recipe refs\r\n    if (props.refs != undefined) {\r\n      recipe_refs_fetcher(props.refs);\r\n      //console.log(\"!= undefined\");\r\n    } // else {\r\n      // console.log(\"oups undefined\");\r\n    // }\r\n\r\n\r\n    // using recipe ids\r\n    if (props.list != undefined)\r\n      recipe_fetcher(props.list.recipes);\r\n\r\n  }, []);\r\n\r\n  // omg ugly code - FIX\r\n  const recipe_refs_fetcher = (refs_list) => {\r\n\r\n    let temp_recipes = [];\r\n    let continue_until = refs_list.length - 1;\r\n\r\n    //console.log(refs_list)\r\n    refs_list.map( (likes_doc, idx) => {\r\n\r\n      if(likes_doc.list_ref != undefined)\r\n      {\r\n        likes_doc.list_ref.get().then(function(list_doc) {\r\n            if (list_doc.exists) {\r\n\r\n                let fetch_it = false;\r\n                let list_data = list_doc.data();\r\n\r\n                if (props.onlyMine == undefined){\r\n                  console.log(\"care about all likes\")\r\n                  fetch_it = true;\r\n                }\r\n                else if (props.onlyMine == true && list_data.created_by == props.myEmail) {\r\n                  console.log(\"only care about my lists\")\r\n                  fetch_it = true;\r\n\r\n                } else if(props.onlyMine == false && list_data.created_by != props.myEmail){\r\n                  console.log(\"only care about lists I follow\")\r\n                  fetch_it = true;\r\n                } else {\r\n                  console.log(\"skipped recipe!\")\r\n                  continue_until = continue_until-1;\r\n                }\r\n\r\n                // if this recipe should be saved\r\n                if(fetch_it == true)\r\n                {\r\n                  likes_doc.recipe_ref.get().then(function(doc) {\r\n                      if (doc.exists) {\r\n\r\n                          let data = doc.data();\r\n                          data.id = doc.id;\r\n\r\n                          temp_recipes.push(data);\r\n                          if (idx == continue_until) {\r\n                            setRecipes(temp_recipes);\r\n                          }\r\n                      } else {\r\n                          console.log(\"No such document!\");\r\n                      }\r\n                  }).catch(function(error) {\r\n                      console.log(\"Error getting document:\", error);\r\n                  });\r\n\r\n                }\r\n\r\n\r\n            } else {\r\n                console.log(\"No such document!\");\r\n            }\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n      } else {\r\n\r\n        likes_doc.recipe_ref.get().then(function(doc) {\r\n            if (doc.exists) {\r\n\r\n                let data = doc.data();\r\n                data.id = doc.id;\r\n\r\n                temp_recipes.push(data);\r\n                if (idx == continue_until) {\r\n                  setRecipes(temp_recipes);\r\n                }\r\n            } else {\r\n                console.log(\"No such document!\");\r\n            }\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n\r\n      }\r\n\r\n/*\r\n      likes_doc.recipe_ref.get().then(function(doc) {\r\n          if (doc.exists) {\r\n\r\n              let data = doc.data();\r\n              data.id = doc.id;\r\n\r\n              temp_recipes.push(data);\r\n              if (idx == refs_list.length - 1) {\r\n                setRecipes(temp_recipes);\r\n              }\r\n          } else {\r\n              console.log(\"No such document!\");\r\n          }\r\n      }).catch(function(error) {\r\n          console.log(\"Error getting document:\", error);\r\n      }); */\r\n    })\r\n  }\r\n\r\n  // let ref = store.db.collection('recipes').doc(id);\r\n  const recipe_fetcher = (recipe_id_list) => {\r\n\r\n    let temp_recipes = [];\r\n    let ref;\r\n    recipe_id_list.map( (recipe_id, idx) => {\r\n\r\n      ref = store.db.collection('recipes').doc(recipe_id);\r\n      ref.get().then(function(doc) {\r\n          if (doc.exists) {\r\n\r\n              let data = doc.data();\r\n              data.id = doc.id;\r\n              temp_recipes.push(data);\r\n              if (idx == recipe_id_list.length - 1) {\r\n                setRecipes(temp_recipes);\r\n              }\r\n          } else {\r\n              console.log(\"No such document!\");\r\n          }\r\n      }).catch(function(error) {\r\n          console.log(\"Error getting document:\", error);\r\n      });\r\n    })\r\n  }\r\n\r\n  let spinner_jsx = <div className={classes.spinner} ><Spinner name=\"ball-scale-multiple\" color=\"#68BB8C\" fadeIn=\"none\"/></div>;\r\n  let recipeContent = (recipes.length > 0) ? <RecipeGridList recipes={recipes} smalltiles={true}/> : spinner_jsx;\r\n\r\n  let listname = (props.list) ? props.list.listname : \"Gillade recept\"; // \"Gillade recept\"\r\n\r\n  return (\r\n    <div style={{width: '100%'}}>\r\n    <p className={classes.list_header}> {listname}</p>\r\n    <div className={classes.listcontainer}>\r\n      {recipeContent}\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  listcontainer: {\r\n    borderRadius: 20,\r\n    backgroundColor: '#f1f1f1',\r\n    marginBottom: 15,\r\n    minHeight: 50\r\n  },\r\n  spinner: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: '20px'\r\n  },\r\n  list_header: {\r\n    background: '#cab18e',\r\n    color: 'white',\r\n    padding: '3px 15px',\r\n    borderRadius: '5px'\r\n}\r\n});\r\n\r\n\r\nexport default ListContainer;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport firebase from 'firebase/app';\r\nimport _ from 'underscore';\r\n\r\nimport ListContainer from '../components/listcontainer';\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nfunction FavoritePage(props) {\r\n\r\n  const [lists, setLists] = React.useState([]);\r\n  const [myLists, setMyLists] = React.useState({});\r\n  const [refList, setRefList] = React.useState([]);\r\n\r\n  const store = useSelector(state => state.fireReducer);\r\n\r\n  useEffect(() => {\r\n\r\n    if(props.otheruser) {\r\n\r\n      console.log(\"list for user user: \" + props.otheruser)\r\n      listFetcher(props.otheruser);\r\n\r\n    } else if(store.firestore_user) {\r\n      console.log(\"list for firestore_user: \" + store.firestore_user.username)\r\n      listFetcher(store.firestore_user.username);\r\n      likedFetcher();\r\n\r\n      myFetchPromise_wrapper(store.firestore_user.username).then((loadedDocs) => {\r\n        // successMessage is whatever we passed in the resolve(...) function above.\r\n        // It doesn't have to be a string, but if it is only a succeed message, it probably will be.\r\n        console.log(\"Yay! loaded \" + loadedDocs)\r\n      });\r\n\r\n    }\r\n\r\n    myFirstPromise.then((successMessage) => {\r\n      // successMessage is whatever we passed in the resolve(...) function above.\r\n      // It doesn't have to be a string, but if it is only a succeed message, it probably will be.\r\n      console.log(\"Yay! \" + successMessage)\r\n    });\r\n\r\n\r\n\r\n\r\n  }, [store.firestore_user]);\r\n\r\n  var myFetchPromise_wrapper = function(current_username) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      let citiesRef = store.db.collection('lists');\r\n      let list_docs = [];\r\n\r\n      let query = citiesRef.where('created_by', '==', current_username).get()\r\n        .then(snapshot => {\r\n          if (snapshot.empty) {\r\n            console.log('No matching documents.');\r\n            return;\r\n          }\r\n          snapshot.forEach(doc => {\r\n            // console.log(doc.id, '=>', doc.data());\r\n            list_docs.push(doc.data());\r\n          });\r\n          //setLists(list_docs);\r\n          resolve(list_docs)\r\n        })\r\n        .catch(err => {\r\n          console.log('Error getting documents', err);\r\n        });\r\n\r\n    });\r\n  }\r\n\r\n\r\n  const testFetcher = () => {\r\n    let testis = 0;\r\n  }\r\n\r\n  let myFirstPromise = new Promise((resolve, reject) => {\r\n    // We call resolve(...) when what we were doing asynchronously was successful, and reject(...) when it failed.\r\n    // In this example, we use setTimeout(...) to simulate async code.\r\n    // In reality, you will probably be using something like XHR or an HTML5 API.\r\n    setTimeout( function() {\r\n      resolve(\"Success!\")  // Yay! Everything went well!\r\n    }, 250)\r\n  })\r\n\r\n  // fetch recipes for the user profile in view\r\n  const listFetcher = (current_username) => {\r\n\r\n    let citiesRef = store.db.collection('lists');\r\n    let list_docs = [];\r\n\r\n    let query = citiesRef.where('created_by', '==', current_username).get()\r\n      .then(snapshot => {\r\n        if (snapshot.empty) {\r\n          console.log('No matching documents.');\r\n          return;\r\n        }\r\n        snapshot.forEach(doc => {\r\n          //console.log(doc.id, '=>', doc.data());\r\n\r\n          list_docs.push(doc.data());\r\n        });\r\n        setLists(list_docs);\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log('Error getting documents', err);\r\n      });\r\n\r\n  }\r\n\r\n  const likedFetcher = () => {\r\n\r\n    let likesRef = store.db.collection('likes');\r\n    let list_docs = [];\r\n\r\n    let list_ids = [];\r\n    let grouped_by_list = {};\r\n    let obj_temp = {};\r\n\r\n    let query = likesRef.where('email', '==', store.firestore_user.email).get()\r\n      .then(snapshot => {\r\n        if (snapshot.empty) {\r\n          console.log('No matching documents.');\r\n          return;\r\n        }\r\n        snapshot.forEach(doc => {\r\n          // console.log(doc.id, '=>', doc.data());\r\n          let data = doc.data();\r\n          if(data.list_ref == undefined){\r\n            list_docs.push(data);\r\n            console.log(\"pushing..\")\r\n          } else {\r\n            //console.log(\"one liked recipe belonged to a list\")\r\n\r\n            // uploadImage(function(returnValue_downloadURL) {\r\n            let path_segments = data.list_ref._key.path.segments;\r\n            let the_id = path_segments[path_segments.length-1];\r\n            let prop = the_id;\r\n\r\n            // console.log(data.list_ref)\r\n            if (!grouped_by_list[prop]) {\r\n              grouped_by_list[prop] = [];\r\n            }\r\n            grouped_by_list[prop].push(data);\r\n\r\n            //console.log(grouped_by_list)\r\n\r\n            // also append list doc\r\n            /*\r\n            data.list_ref.get().then(function(list_doc) {\r\n              data.list_doc = list_doc.data();\r\n              data.list_id = list_doc.id;\r\n\r\n              let prop = list_doc.id\r\n              if (!grouped_by_list[prop]) {\r\n                grouped_by_list[prop] = [];\r\n              }\r\n              grouped_by_list[prop].push(data);\r\n              list_ids.push(list_doc.id);\r\n              obj_temp = { ...obj_temp, [`${prop}`]: grouped_by_list[prop] };\r\n              console.log(obj_temp)\r\n              // setMyLists({ ...myLists, [`${prop}`]: grouped_by_list[prop] });\r\n              // setValid({ ...valid, [\"title\"]: true });\r\n\r\n            }); */\r\n          }\r\n        });\r\n\r\n        // setMyLists({ ...myLists, [`${prop}`]: grouped_by_list[prop] });\r\n        setMyLists(grouped_by_list);\r\n        //console.log(grouped_by_list)\r\n        //let my_lists_temp = Object.values(grouped_by_list);\r\n        //console.log(Object.values(grouped_by_list))\r\n\r\n        setRefList(list_docs);\r\n        return list_docs;\r\n      })\r\n      .catch(err => {\r\n        console.log('Error getting documents', err);\r\n      });\r\n\r\n      console.log(\"query:\")\r\n      console.log(query)\r\n\r\n  }\r\n\r\n  /*\r\n  let lists_jxs = lists.map((item, i) =>\r\n    <ListContainer key={i} list={item}/>\r\n  ); */\r\n\r\n  // if user profile view, this prop will be available\r\n  let no_lists_text = (props.otheruser) ? props.otheruser + \" har ännu inga sparade listor\" : \"Inga sparade listor ännu\";\r\n  // <ListContainer list={list_with_liked}/>\r\n\r\n  let liked_list_jsx = (refList.length >= 1) ? <ListContainer refs={refList}/> : <p> Gillade recept.. </p>\r\n\r\n  const object1 = {\r\n    a: 'somestring',\r\n    b: 42\r\n  };\r\n\r\n  //console.log(\"render..\")\r\n  //console.log(myLists)\r\n\r\n  let my_list_jsx = [];\r\n  let lists_I_follow = [];\r\n  let counter = 0;\r\n  for (let [key, value] of Object.entries(myLists)) {\r\n      //console.log(`${key}: ${value}`);\r\n\r\n      console.log(value)\r\n\r\n      //let ref_list = value.map(_obj => _obj.recipe_ref );\r\n      //console.log(ref_list)\r\n      my_list_jsx.push(<ListContainer key={counter} refs={value} onlyMine={true} myEmail={store.firestore_user.email}/>);\r\n      lists_I_follow.push(<ListContainer key={counter} refs={value} onlyMine={false} myEmail={store.firestore_user.email}/>)\r\n      counter = counter + 1;\r\n  }\r\n\r\n  /*\r\n  let my_lists_jsx = myLists.map((list_info, i) =>\r\n\r\n\r\n    <ListContainer key={i} refs={item}/>\r\n  ); */\r\n\r\n  return (\r\n\r\n    <div>\r\n    { !props.otheruser &&\r\n\r\n      <ExpansionPanel style={{background: '#f1f1f1', marginTop: '8px', borderRadius: '15px'}}>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography style={{fontWeight: 'bold'}}> Gillade recept</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n\r\n          {liked_list_jsx}\r\n\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n\r\n    }\r\n    { !props.otheruser &&\r\n\r\n      <ExpansionPanel style={{background: '#f1f1f1', marginTop: '8px', borderRadius: '15px'}}>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography style={{fontWeight: 'bold'}}> Listor du följer</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n\r\n          {my_list_jsx}\r\n\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n\r\n    }\r\n    { false && !props.otheruser && <h3>Dina listor</h3> }\r\n    { lists.length < 1 && <p> {no_lists_text} </p>}\r\n\r\n    <ExpansionPanel style={{background: '#f1f1f1', marginTop: '8px', borderRadius: '15px'}}>\r\n      <ExpansionPanelSummary\r\n        expandIcon={<ExpandMoreIcon />}\r\n        aria-controls=\"panel1a-content\"\r\n        id=\"panel1a-header\"\r\n      >\r\n        <Typography style={{fontWeight: 'bold'}}> Dina listor</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails>\r\n\r\n        {lists_I_follow}\r\n\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\n/*\r\n\r\n<div>\r\n{ lists_jxs }\r\n</div>\r\n\r\n*/\r\n\r\n/*\r\n\r\n<React.Fragment>\r\n<h3>Gillade recept</h3>\r\n{liked_list_jsx}\r\n</React.Fragment>\r\n\r\n*/\r\n\r\nexport default FavoritePage;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useParams} from \"react-router\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BrowserRouter as Link, Redirect} from \"react-router-dom\";\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\n\r\nimport recipeData from '../assets/recipes_dev';\r\nimport followerData from '../assets/users_dev';\r\nimport SimpleTabs from '../components/userpagetabs';\r\nimport RecipeGridList from '../components/recipegrid';\r\nimport FollowerList from '../components/followerlist';\r\nimport ListContainer from '../components/listcontainer';\r\nimport FavoritePage from '../pages/favoritepage';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Button from '@material-ui/core/Button';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport userchef from '../assets/userchef.png';\r\n\r\nvar Spinner = require('react-spinkit');\r\nconst useMountEffect = (fun) => useEffect(fun, []);\r\n\r\n// () =>\r\nfunction ProfilePage(props) {\r\n\r\n  const { user } = useParams();\r\n  // const [user, setUser] = useState(url_user); // props.match.params.url_user\r\n  const [ifUser, setIfUser] = useState(false);\r\n  const [recipes, setRecipes] = useState(undefined);\r\n  const [signedIn, setSignedIn] = React.useState(false);\n  const [followInfo, setFollowInfo] = useState([]);\n  const [followingInfo, setFollowingInfo] = useState([]);\n  const [following_this_user, setFollowing_this_user] = useState({following: false, email: \"\"});\n\n  const classes = useStyles();\n  const store = useSelector(state => state.fireReducer);\n  const history = useHistory();\r\n\r\n  // when url changes, on load and on user click\r\n  useEffect(() => {\r\n\r\n    recipeFetcher_new(user);\r\n\r\n    if(store.firestore_user && user == store.firestore_user.username) {\r\n      console.log(\"firestore_user changed: \" + store.firestore_user.username)\r\n      console.log(\"same as logged in\")\r\n      setIfUser(true)\r\n      followFetcher(user, store.firestore_user.email, \"followers\");\r\n      followFetcher(user, store.firestore_user.email, \"following\");\r\n    } else if ( store.firestore_user && user != store.firestore_user.username ) {\r\n\r\n      console.log(\"someone else than firestore_user: \" + user)\r\n      getEmail(user)\r\n      setIfUser(false)\r\n    }\r\n\r\n  }, [store.firestore_user, user]);\r\n\r\n  const followUser = () => {\r\n    console.log(store.firestore_user.username + \" will follow \" + user)\r\n\r\n    console.log(following_this_user)\r\n\r\n    // in following, remove from following list\r\n    if(following_this_user.following) {\r\n      store.db.collection(\"followers\").doc(store.firestore_user.email).collection(\"following\").doc(following_this_user.email).delete();\r\n    } else {\r\n      store.db.collection(\"followers\").doc(store.firestore_user.email).collection(\"following\").doc(following_this_user.email).set({});\r\n    }\r\n    setFollowing_this_user(!following_this_user);\r\n  }\r\n\r\n  // get email correspoding to username\r\n  function getEmail(url_user) {\r\n\r\n    // loop through all users to find email of user with this username\r\n    store.db.collection(\"users\")\r\n    .onSnapshot(function(querySnapshot) {\r\n\r\n        querySnapshot.forEach( doc => {\r\n\r\n          let doc_email = \"\";\r\n          if(doc.data().username == url_user) {\r\n            doc_email = doc.id;\r\n            console.log(\"found other user email: \" + doc_email)\r\n\r\n            followFetcher(user, doc_email, \"followers\");\r\n            followFetcher(user, doc_email, \"following\");\r\n          }\r\n\r\n          let found = false;\r\n          // check if user signed in is following the user of this profile page\r\n          store.db.collection(\"followers\").doc(store.firestore_user.email).collection(\"following\")\r\n          .onSnapshot(function(querySnapshot) {\r\n\r\n              querySnapshot.forEach( doc => {\r\n                // console.log(doc.id)\r\n                if(doc.id == doc_email) {\r\n                  console.log(\"following \" + doc_email)\r\n                  found = true;\r\n                  setFollowing_this_user({following: true, email: doc_email});\r\n                }\r\n              })\r\n          });\r\n\r\n          if(found == false && doc_email != \"\") {\r\n            setFollowing_this_user({following: false, email: doc_email});\r\n          }\r\n\r\n        });\r\n\r\n    });\r\n  }\r\n\r\n  // get email of followers for the user profile in view\r\n  const followFetcher = (current_username, current_user_email, collection) => {\r\n\r\n    let follow_docs = [];\r\n\r\n    store.db.collection(\"followers\").doc(current_user_email).collection(collection)\r\n    .onSnapshot(function(querySnapshot) {\r\n\r\n        querySnapshot.forEach( doc => {\r\n\r\n          let data = doc.data();\r\n          data.email = doc.id;\r\n          follow_docs.push(data);\r\n          // console.log(querySnapshot)\r\n        })\r\n        callback(current_username, follow_docs, collection);\r\n    });\r\n  }\r\n\r\n  // when all followers (emails) are collected\r\n  function callback (current_username, follow_docs, collection) {\r\n    followBuilder(current_username, follow_docs, collection);\r\n  }\r\n\r\n  // from emails, get further user info\r\n  const followBuilder = (current_username, follow_docs, collection) => {\r\n\r\n    let followers = [];\r\n    follow_docs.forEach((item, i) => {\r\n\r\n      store.db.collection(\"users\").doc(item.email)\r\n      .onSnapshot(function(doc) {\r\n          let data = doc.data();\r\n          followers.push({username: data.username, fullname: data.fullname, follows: false});\r\n      })\r\n    });\r\n\r\n    callback2(followers, collection);\r\n  }\r\n\r\n  function callback2 (followers, collection) {\r\n    console.log('setFollowInfo and setFollowingInfo');\r\n\r\n    if(collection == \"followers\")\r\n      setFollowInfo(followers);\r\n    else if(collection == \"following\")\r\n      setFollowingInfo(followers);\r\n  }\r\n\r\n\r\n  // fetch recipes for the user profile in view\r\n  const recipeFetcher_new = (current_username) => {\r\n    store.db.collection(\"recipes\")\r\n    .onSnapshot(function(querySnapshot) {\r\n\r\n        let recipe_docs = [];\r\n        querySnapshot.forEach( doc => {\r\n\r\n          let data = doc.data();\r\n          if( data.user == current_username )\r\n          {\r\n            data.id = doc.id;\r\n            recipe_docs.push(data);\r\n          }\r\n        });\r\n        setRecipes(recipe_docs);\r\n    });\r\n  }\r\n\r\n  // fetch user correspoding to the url, compare to user signed in\r\n  /*\r\n  const userFetcher = () => {\r\n\r\n    console.log('in userFetcher')\r\n    // Create a reference to the cities collection\r\n    let usersRef = store.db.collection('users');\r\n\r\n    // Create a query against the collection\r\n    let queryRef = usersRef.where('username', '==', user);\r\n    let inSnapshot = false;\r\n\r\n    //console.log(queryRef)\r\n    queryRef.onSnapshot(function(querySnapshot) {\r\n\r\n          inSnapshot = true;\r\n          querySnapshot.forEach( doc => {\r\n            let data = doc.data();\r\n\r\n            if(data.username === user) {\r\n              setIfUser(true);\r\n            }\r\n          });\r\n    });\r\n\r\n    if(inSnapshot === false)\r\n    {\r\n      setIfUser(false);\r\n      console.log( \"no snapshot\");\r\n    }\r\n  }\r\n  */\r\n  /*\r\n  <Button onClick={ () => firebase.auth().signOut()} variant=\"contained\" color=\"primary\">\r\n    Logga ut\r\n  </Button>\r\n  <button onClick={ () => firebase.auth().signOut() } name=\"signout\"> Logga ut </button>*/\r\n  let spinner_jsx = <div className={classes.spinner} ><Spinner name=\"ball-scale-multiple\" color=\"#68BB8C\" fadeIn=\"none\"/></div>;\r\n  let recipeContent = (recipes != undefined) ? <RecipeGridList recipes={recipes}/> : spinner_jsx;\r\n\r\n  let followBtn;\r\n  if (!ifUser && following_this_user.following == true) {\r\n\r\n    followBtn = (<Button\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      startIcon={<RemoveIcon />}\r\n      onClick={() => followUser()}\r\n    >\r\n      Sluta följ\r\n    </Button>);\r\n\r\n  } else if (!ifUser) {\r\n\r\n    followBtn = (<Button\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      startIcon={<AddIcon />}\r\n      onClick={() => followUser()}\r\n    >\r\n      Följ\r\n    </Button>);\r\n  }\r\n\r\n  // let followBtn =\r\n\r\n  //console.log(\"rerender \")\r\n  return (\r\n\r\n    <React.Fragment>\r\n\r\n      <Grid\r\n        container\r\n        spacing={1}\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n        className={classes.userinfo}\r\n      >\r\n\r\n        <Grid item xs={6}>\r\n          <h3>{user}</h3>\r\n          {ifUser && <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            startIcon={<SettingsIcon />}\r\n            onClick={() => history.push(\"/settings\")}\r\n          >\r\n            Inställningar\r\n          </Button>}\r\n          {followBtn}\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <img src={userchef} alt=\"userchef\"/>\r\n        </Grid>\r\n\r\n      </Grid>\r\n\r\n      <SimpleTabs value={0}>\r\n        <div>\r\n        { recipeContent }\r\n        </div>\r\n        <div>\r\n        <FavoritePage otheruser={user}/>\r\n        </div>\r\n        <div>\r\n        <FollowerList followerData={followInfo}/>\r\n        </div>\r\n        <div>\r\n        <FollowerList followerData={followingInfo}/>\r\n        </div>\r\n      </SimpleTabs>\r\n\r\n   </React.Fragment>\r\n\r\n  );\r\n// followInfo.length > 0 &&\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  userinfo: {\r\n   marginBottom: '20px',\r\n },\r\n spinner: {\r\n   display: 'flex',\r\n   justifyContent: 'center',\r\n   marginTop: 100\r\n }\r\n});\r\n\r\n\r\nexport default ProfilePage;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// import '../style/GlobalCssButton.css';\r\n// import * as ui from '../meterialuiimports';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ForwardIcon from '@material-ui/icons/Forward';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\n\r\nconst useStyles = makeStyles({\r\n  body: {\r\n    padding: 15\r\n  }\r\n});\r\n\r\nfunction generate(element) {\r\n  return [0, 1, 2].map(value =>\r\n    React.cloneElement(element, {\r\n      key: value,\r\n    }),\r\n  );\r\n}\r\n\r\n/*\r\n\r\n<ListItemText\r\n  primary= { props.user + \" följer nu dig\" }\r\n  secondary={true ? props.time : null}\r\n/>*/\r\n\r\nconst B = (props) => <span style={{fontWeight: 'bold'}}>{props.children}</span>\r\n\r\n\r\nfunction NoticeListItem(props) {\r\n\r\n  const history = useHistory();\r\n  let noticeText;\r\n\r\n  const userClick = () => {\r\n    console.log(\"well hello \" + props.user)\r\n    history.push(\"/profile/\" + props.user );\r\n  };\r\n\r\n  const recipeClick = () => {\r\n    console.log(\"well hello \" + props.recipe)\r\n    //history.push(\"/profile/\" + props.user );\r\n  };\r\n\r\n  switch (props.type) {\r\n    case \"FOLLOWS\":\r\n      noticeText = <span onClick={userClick}><B>{props.user}</B> följer nu dig.</span>;\r\n      break;\r\n    case \"TIPS\":\r\n      noticeText = <div><span onClick={userClick}><B>{props.user}</B></span> <span onClick={recipeClick}>tipsar dig om att laga <B>{props.recipe}</B>.</span></div>;\r\n      break;\r\n    case \"TESTED\":\r\n      noticeText = <div><span onClick={userClick}><B>{props.user}</B></span> <span onClick={recipeClick}>har testat ditt recept <B>{props.recipe}</B>.</span></div>;\r\n    default:\r\n\r\n  }\r\n\r\n  // if(props.type === \"FOLLOWS\")\r\n  //  noticeText = <span><B>{props.user}</B> följer nu dig.</span>;\r\n\r\n  return (\r\n\r\n    <ListItem>\r\n      <ListItemAvatar>\r\n        <Avatar>\r\n            <PersonIcon />\r\n        </Avatar>\r\n      </ListItemAvatar>\r\n\r\n      <ListItemText\r\n        primary= { noticeText }\r\n        secondary={true ? props.time : null}\r\n      />\r\n\r\n      <ListItemSecondaryAction>\r\n        <IconButton edge=\"end\" aria-label=\"delete\">\r\n          <ForwardIcon />\r\n        </IconButton>\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n\r\n  );\r\n\r\n}\r\n\r\nfunction NoticePage(props) {\r\n\r\n  const classes = useStyles();\r\n  // console.log(props)\r\n\r\n  return (\r\n\r\n    <div>\r\n    <h3>Dina notiser</h3>\r\n\r\n    <List dense={true}>\r\n      <NoticeListItem type=\"FOLLOWS\" user=\"Vegokocken\" time=\"1 h\"/>\r\n      <NoticeListItem type=\"TIPS\" user=\"DelicatoKing\" recipe=\"Linsgryta\" time=\"3 h\"/>\r\n      <NoticeListItem type=\"TESTED\" user=\"PastaMaster\" recipe=\"Korvstroganoff\" time=\"2 dgr\"/>\r\n    </List>\r\n\r\n    </div>\r\n\r\n  );\r\n\r\n}\r\n\r\n/*\r\n\r\n<ListItem>\r\n  <ListItemAvatar>\r\n    <Avatar>\r\n        <PersonIcon />\r\n    </Avatar>\r\n  </ListItemAvatar>\r\n  <ListItemText\r\n    primary=\"Single-line item\"\r\n    secondary={true ? 'Secondary text' : null}\r\n  />\r\n  <ListItemSecondaryAction>\r\n    <IconButton edge=\"end\" aria-label=\"delete\">\r\n      <ForwardIcon />\r\n    </IconButton>\r\n  </ListItemSecondaryAction>\r\n</ListItem>\r\n\r\n*/\r\n\r\n\r\nexport default NoticePage;\r\n","import React from \"react\";\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\n\r\nconst noop = () => {};\r\n\r\nconst FileInput = ({ value, onChange = noop, ...rest }) => (\r\n  <div>\r\n    {Boolean(value.length) && (\r\n      <div>Selected files: {value.map(f => f.name).join(\", \")}</div>\r\n    )}\r\n    <label style={{\r\n\r\n      padding: '6px 16px',\r\n      fontSize: '0.875rem',\r\n      minWidth: '64px',\r\n      boxSizing: 'border-box',\r\n      transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n      fontWeight: '500',\r\n      lineHeight: '1.75',\r\n      borderRadius: '4px',\r\n      letterSpacing: '0.02857em',\r\n      backgroundColor: '#3f51b5',\r\n      color: 'white',\r\n      boxShadow: '0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)'\r\n\r\n    }}>\r\n\r\n     Välj bild\r\n\r\n      <input\r\n        {...rest}\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        onChange={e => {\r\n          onChange([...e.target.files]);\r\n        }}\r\n      />\r\n    </label>\r\n  </div>\r\n);\r\n\r\n/*\r\n\r\n<Button\r\n  variant=\"contained\"\r\n  color=\"primary\"\r\n  startIcon={<PhotoCamera />}\r\n  style={{ textTransform: 'unset' }}\r\n>\r\n  Välj bild\r\n</Button>\r\n\r\n*/\r\n\r\nexport default FileInput;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nfunction ValidCheck(props) {\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid item xs={props.xs}>\r\n    <FormControlLabel disabled\r\n      control={\r\n        <Checkbox\r\n          checked={props.checked}\r\n          color= \"primary\"\r\n          className= {classes.nomargin}\r\n        />}\r\n    />\r\n    </Grid>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  nomargin: {\r\n    margin: 0,\r\n    color: '#68BB8C !important'\r\n  }\r\n});\r\n\r\nexport default ValidCheck;\r\n","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport purple from '@material-ui/core/colors/purple';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: purple,\r\n    secondary: green,\r\n  },\r\n  status: {\r\n    danger: 'orange',\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","\r\nimport React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { makeStyles, withStyles, ThemeProvider } from '@material-ui/core/styles';\r\n//import { withStyles } from '@material-ui/core/styles';\r\n//import { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport '../style/GlobalCssButton.css';\r\nimport theme from '../theme';\r\n\r\nimport FilledInput from '@material-ui/core/FilledInput';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\n\r\nfunction DescriptionList(props) {\r\n\r\n  const [editObject, setEditObject] = useState(undefined);\r\n  const [order, setOrder] = useState(-2);\r\n  const [text, setText] = useState(\"\");\r\n\r\n  //console.log(\"order: \" + order)\r\n\r\n  const [descriptions, setDescriptions] = useState(() => initiate_descriptions());\r\n  const classes = useStyles();\r\n\r\n  const dispatch = useDispatch(); // be able to dispatch\r\n  const upload_store = useSelector(state => state.uploadReducer);\r\n\r\n  const ingredientsDisp = () => {\r\n    dispatch({\r\n      type: \"SETDESCRIPTIONS\",\r\n      descriptions: descriptions\r\n    })\r\n  }\r\n\r\n  function initiate_descriptions() {\r\n\r\n    let temp_description = [\r\n    {order: 1, text: \"Knäck äggen i en bunke (default data)\"},\r\n    {order: 2, text: \"Stek i pannan meed smör eller kokosolja\"},\r\n    {order: 3, text: \"Vispa i mjöl, mjölk och salt\"}\r\n    ];\r\n\r\n    temp_description = [];\r\n\r\n    return (props.description != undefined) ? props.description : temp_description;\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    let temp_descriptions = upload_store.descriptions;\r\n    if(temp_descriptions != undefined)\r\n    {\r\n      setDescriptions(temp_descriptions);\r\n      props.handleAdd(temp_descriptions.length);\r\n    }\r\n\r\n  }, []);\r\n\r\n  const addDescription = () => {\r\n    // console.log(\"okay add\")\r\n\r\n    let temp_list = descriptions.slice(0);\r\n    let new_obj = {order: descriptions.length + 1, text: \"\"};\r\n    temp_list.push(new_obj);\r\n    setEditObject(new_obj);\r\n    setDescriptions(temp_list);\r\n\r\n    setOrder(descriptions.length + 1);\r\n    ingredientsDisp();\r\n  }\r\n\r\n  const removeDescription = () => {\r\n    //console.log(\"okay remove\")\r\n    let temp_list = descriptions.slice(0);\r\n    let ind = temp_list.indexOf(editObject);\r\n    temp_list.splice(ind, 1);\r\n\r\n    setDescriptions(temp_list);\r\n    setEditObject(undefined);\r\n\r\n    setText(\"\");\r\n    setOrder(-321); //\r\n    ingredientsDisp();\r\n\r\n  }\r\n\r\n  const listClick = (object) => {\r\n    console.log(\"edit descriptions\")\r\n    setEditObject(object);\r\n\r\n    // first letter to toUpperCase\r\n    object.text = object.text[0].toUpperCase() + object.text.slice(1)\r\n\r\n    setText(object.text);\r\n    // setOrder(object.order);\r\n\r\n  }\r\n\r\n  const saveEdited = () => {\r\n    console.log(\"save values\")\r\n\r\n    let temp_list = descriptions.slice(0);\r\n    let ind = temp_list.indexOf(editObject);\r\n\r\n    //console.log(editObject)\r\n\r\n    let obj_copy = editObject;\r\n    obj_copy.text = text[0].toUpperCase() + text.slice(1);\r\n    // obj_copy.order = order;\r\n\r\n    temp_list[ind] = obj_copy;\r\n\r\n    //console.log(obj_copy)\r\n\r\n    setDescriptions(temp_list);\r\n\r\n    setEditObject(undefined);\r\n    setText(\"\");\r\n    setOrder(-123)\r\n\r\n    //console.log(\"temp_list.length\" + temp_list.length)\r\n\r\n    props.handleAdd(temp_list.length);\r\n    ingredientsDisp();\r\n\r\n  }\r\n\r\n  const enterPress = (ev) => {\r\n\r\n    // console.log(`Pressed keyCode ${ev.key}`);\r\n    if (ev.key === 'Enter') {\r\n      // Do code here\r\n      console.log(`Pressed enter`);\r\n      saveEdited();\r\n      ev.preventDefault();\r\n    }\r\n\r\n  }\r\n\r\n  // let ingredients = (props.ingredients != undefined) ? props.ingredients : temp_ingredients;\r\n  // idx < ingredients.length - 1\r\n\r\n  //console.log(descriptions)\r\n\r\n  let descriptionjsx = descriptions.map((desc, idx) =>\r\n  <React.Fragment key={idx}>\r\n    <ListItem onClick={() => listClick(desc)} className={(descriptions.indexOf(editObject) === idx ? 'testis' : '')} style={{minHeight: 40}}>\r\n      <ListItemText\r\n        primary={ desc.order + \". \" + desc.text }\r\n      />\r\n\r\n    </ListItem>\r\n    { idx < descriptions.length - 1 && <Divider component=\"li\" /> }\r\n\r\n  </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Grid className=\"test\"\r\n        container\r\n        spacing={1}\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n      >\r\n\r\n      <Grid item xs={12}>\r\n        <List dense={true} className={classes.ingredientslist}>\r\n\r\n          {descriptionjsx}\r\n\r\n          { editObject == undefined &&\r\n\r\n            <ListItem alignItems=\"center\" onClick={() => addDescription()} className={classes.newListItem}>\r\n              <ListItemText\r\n                primary=\"Lägg till\"\r\n              />\r\n            </ListItem>\r\n          }\r\n\r\n        </List>\r\n      </Grid>\r\n\r\n      { (editObject != undefined  ) &&\r\n\r\n        <React.Fragment>\r\n\r\n        <Grid item xs={10}>\r\n          <TextField variant=\"outlined\" label=\"steg\" InputLabelProps={{shrink: true}} value={text} onChange={ event => setText(event.target.value)} onKeyPress={(ev) => enterPress(ev)}/>\r\n        </Grid>\r\n\r\n        <Grid item xs={1}>\r\n          <SaveIcon onClick={saveEdited} className={classes.greenicon} />\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          <DeleteForeverIcon onClick={removeDescription} className={classes.redicon} />\r\n        </Grid>\r\n\r\n        </React.Fragment>\r\n\r\n      }\r\n\r\n      </Grid>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n// .toLowerCase()\r\n// material ui design\r\nconst useStyles = makeStyles(theme => ({\r\n  body: {\r\n    padding: 15\r\n  },\r\n  buttontext: {\r\n    textTransform: 'unset'\r\n  },\r\n  input: {\r\n    color: 'black',\r\n    width: 200\r\n  },\r\n  loadedimage: {\r\n    width: '100%',\r\n    borderRadius: '4px'\r\n  },\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  formlabel: {\r\n    marginRight: '30px'\r\n  },\r\n  imagediv: {\r\n    background: '#fbfbfb',\r\n    borderRadius: '4px',\r\n    padding: '40px',\r\n    marginTop: '8px'\r\n  },\r\n  uploaddiv: {\r\n    background: '#68bb8c',\r\n    borderRadius: '4px',\r\n    padding: '40px',\r\n    marginTop: '8px'\r\n  },\r\n  greenicon: {\r\n    color: '#68BB8C'\r\n  },\r\n  redicon: {\r\n    color: 'red'\r\n  },\r\n  newListItem: {\r\n    background: '#f3f3f3'\r\n  },\r\n  titlediv: {\r\n    background: 'gray'\r\n  }\r\n}));\r\n\r\nexport default DescriptionList;\r\n","\r\nimport React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { makeStyles, withStyles, ThemeProvider } from '@material-ui/core/styles';\r\n//import { withStyles } from '@material-ui/core/styles';\r\n//import { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport '../style/GlobalCssButton.css';\r\nimport theme from '../theme';\r\n\r\nimport FilledInput from '@material-ui/core/FilledInput';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\n\r\nfunction IngredientsList(props) {\r\n\r\n  const [editObject, setEditObject] = useState(undefined);\r\n  const [quantity, setQuantity] = useState(\"\");\r\n  const [measure, setMeasure] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [ingredients, setIngredients] = useState(() => initiate_ingredients());\r\n  const classes = useStyles();\r\n\r\n  const dispatch = useDispatch(); // be able to dispatch\r\n  const upload_store = useSelector(state => state.uploadReducer);\r\n\r\n  const ingredientsDisp = () => {\r\n    dispatch({\r\n      type: \"SETINGREDIENTS\",\r\n      ingredients: ingredients\r\n    })\r\n  }\r\n\r\n  function initiate_ingredients() {\r\n    let temp_ingredients = [\r\n    {name: \"mjöl (default data)\", quantity: \"2\", measure: \"dl\"},\r\n    {name: \"salt\", quantity: \"1\", measure: \"tsk\"},\r\n    {name: \"mjölk\", quantity: \"4\", measure: \"dl\"},\r\n    {name: \"ägg\", quantity: \"2\", measure: \"\"}\r\n    ];\r\n\r\n    temp_ingredients = [];\r\n\r\n    return (props.ingredients != undefined) ? props.ingredients : temp_ingredients;\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    let temp_ingredients = upload_store.ingredients;\r\n    if(temp_ingredients != undefined)\r\n    {\r\n      setIngredients(temp_ingredients);\r\n      props.handleAdd(temp_ingredients.length);\r\n    }\r\n\r\n  }, []);\r\n\r\n  const addIngredient = () => {\r\n    //console.log(\"okay add\")\r\n\r\n    let temp_list = ingredients.slice(0);\r\n    let new_obj = {name: \"\", quantity: \"\", measure: \"\"};\r\n    temp_list.push(new_obj);\r\n    setEditObject(new_obj);\r\n    setIngredients(temp_list);\r\n\r\n    ingredientsDisp();\r\n  }\r\n\r\n  const removeIngredient = () => {\r\n    //console.log(\"okay remove\")\r\n    let temp_list = ingredients.slice(0);\r\n    let ind = temp_list.indexOf(editObject);\r\n    temp_list.splice(ind, 1);\r\n\r\n    setIngredients(temp_list);\r\n    setEditObject(undefined);\r\n\r\n    setQuantity(\"\");\r\n    setMeasure(\"\");\r\n    setName(\"\");\r\n\r\n    ingredientsDisp();\r\n\r\n  }\r\n\r\n  const listClick = (object) => {\r\n    console.log(\"edit ingredient\")\r\n    setEditObject(object);\r\n\r\n    setQuantity(object.quantity);\r\n    setMeasure(object.measure);\r\n    setName(object.name);\r\n  }\r\n\r\n  const saveEdited = () => {\r\n    //console.log(\"save values\")\r\n\r\n    let temp_list = ingredients.slice(0);\r\n    let ind = temp_list.indexOf(editObject);\r\n\r\n    let obj_copy = editObject;\r\n    obj_copy.quantity = quantity;\r\n    obj_copy.measure = measure;\r\n    obj_copy.name = name;\r\n\r\n    temp_list[ind] = obj_copy;\r\n\r\n    setIngredients(temp_list);\r\n\r\n    setEditObject(undefined);\r\n    setQuantity(\"\");\r\n    setMeasure(\"\");\r\n    setName(\"\");\r\n\r\n    props.handleAdd(temp_list.length);\r\n\r\n    ingredientsDisp();\r\n\r\n  }\r\n\r\n  const enterPress = (ev) => {\r\n\r\n    // console.log(`Pressed keyCode ${ev.key}`);\r\n    if (ev.key === 'Enter') {\r\n      // Do code here\r\n      // console.log(`Pressed enter`);\r\n      saveEdited();\r\n      ev.preventDefault();\r\n    }\r\n\r\n  }\r\n\r\n  // let ingredients = (props.ingredients != undefined) ? props.ingredients : temp_ingredients;\r\n  // idx < ingredients.length - 1\r\n\r\n  let ingredientsjsx = ingredients.map((ingred, idx) =>\r\n  <React.Fragment key={idx}>\r\n    <ListItem onClick={() => listClick(ingred)} className={(ingredients.indexOf(editObject) === idx ? 'testis' : '')} style={{minHeight: 40}}>\r\n      <ListItemText\r\n        primary={ ingred.quantity + \" \" + ingred.measure + \" \" + ingred.name }\r\n      />\r\n\r\n    </ListItem>\r\n    { idx < ingredients.length - 1 && <Divider component=\"li\" /> }\r\n\r\n  </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Grid className=\"test\"\r\n        container\r\n        spacing={1}\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n      >\r\n\r\n      <Grid item xs={12}>\r\n        <List dense={true} className={classes.ingredientslist}>\r\n\r\n          {ingredientsjsx}\r\n\r\n          { editObject == undefined &&\r\n\r\n            <ListItem alignItems=\"center\" onClick={() => addIngredient()} className={classes.newListItem}>\r\n              <ListItemText\r\n                primary=\"Lägg till\"\r\n              />\r\n            </ListItem>\r\n          }\r\n\r\n        </List>\r\n      </Grid>\r\n\r\n      { (editObject != undefined  ) &&\r\n\r\n        <React.Fragment>\r\n\r\n        <Grid item xs={2}>\r\n          <TextField required variant=\"outlined\" label=\"mängd\" InputLabelProps={{shrink: true}} value={quantity} onChange={ event => setQuantity(event.target.value.toLowerCase())}/>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <TextField variant=\"outlined\" label=\"mått\" InputLabelProps={{shrink: true}} value={measure} onChange={ event => setMeasure(event.target.value.toLowerCase())}/>\r\n        </Grid>\r\n        <Grid item xs={5}>\r\n          <TextField required variant=\"outlined\" label=\"ingrediens\" InputLabelProps={{shrink: true}} value={name} onChange={ event => setName(event.target.value.toLowerCase())} onKeyPress={(ev) => enterPress(ev)}/>\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          <SaveIcon onClick={saveEdited} className={classes.greenicon} />\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          <DeleteForeverIcon onClick={removeIngredient} className={classes.redicon} />\r\n        </Grid>\r\n\r\n        </React.Fragment>\r\n\r\n      }\r\n\r\n      </Grid>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n// material ui design\r\nconst useStyles = makeStyles(theme => ({\r\n  body: {\r\n    padding: 15\r\n  },\r\n  buttontext: {\r\n    textTransform: 'unset'\r\n  },\r\n  input: {\r\n    color: 'black',\r\n    width: 200\r\n  },\r\n  loadedimage: {\r\n    width: '100%',\r\n    borderRadius: '4px'\r\n  },\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  formlabel: {\r\n    marginRight: '30px'\r\n  },\r\n  imagediv: {\r\n    background: '#fbfbfb',\r\n    borderRadius: '4px',\r\n    padding: '40px',\r\n    marginTop: '8px'\r\n  },\r\n  uploaddiv: {\r\n    background: '#68bb8c',\r\n    borderRadius: '4px',\r\n    padding: '40px',\r\n    marginTop: '8px'\r\n  },\r\n  greenicon: {\r\n    color: '#68BB8C'\r\n  },\r\n  redicon: {\r\n    color: 'red'\r\n  },\r\n  newListItem: {\r\n    background: '#f3f3f3'\r\n  },\r\n  titlediv: {\r\n    background: 'gray'\r\n  }\r\n}));\r\n\r\nexport default IngredientsList;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles, withStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport firebase from 'firebase'; // 'firebase/app';\r\n// import 'firebase/firestore';\r\n//import { withStyles } from '@material-ui/core/styles';\r\n//import { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport '../style/GlobalCssButton.css';\r\nimport FileInput from '../components/fileinput';\r\nimport ValidCheck from '../components/validcheck';\r\nimport DescriptionList from '../components/descriptionlist';\r\nimport IngredientsList from '../components/ingredientslist';\r\nimport theme from '../theme';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\n\r\nvar Spinner = require('react-spinkit');\r\n\r\nfunction UploadPage(props) {\r\n\r\n  const [title, setTitle] = React.useState('');\r\n  const [files, setFiles] = React.useState([]);\r\n  const [image, setImage] = React.useState(undefined);\r\n  const [id, setId] = React.useState(undefined);\r\n  const [upload_wait, setUpload_wait] = React.useState(false);\r\n  const [done, setDone] = React.useState(false);\r\n  const [labelWidth, setLabelWidth] = React.useState(0);\r\n  const labelRef = React.useRef(null);\r\n  const [url, setUrl] = React.useState(\"temp\");\r\n\r\n  const [valid, setValid] = React.useState({\r\n    title: false,\r\n    ingredients: false,\r\n    desc: false,\r\n    image: false\r\n  });\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch(); // be able to dispatch\r\n  const store = useSelector(state => state.fireReducer);\r\n  const upload_store = useSelector(state => state.uploadReducer);\r\n  const history = useHistory();\r\n\r\n  const imageDisp = img => {\r\n    dispatch({\r\n      type: \"SETIMAGE\",\r\n      image: img\r\n    })\r\n  }\r\n\r\n  const allValid = () => {\r\n\r\n    return (valid.title && valid.ingredients && valid.desc && valid.image)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setLabelWidth(labelRef.current.offsetWidth);\r\n    // getImage();\r\n    if(upload_store.title != undefined)\r\n    {\r\n      setTitle(upload_store.title);\r\n      setValid({ ...valid, [\"title\"]: true });\r\n    }\r\n        \r\n  }, []);\r\n\r\n  /*\r\n  const getImage = () => {\r\n\r\n    let storageRef = firebase.storage();\r\n    storageRef.ref('recept/bananbröd.jpg').getDownloadURL().then(function(url) {\r\n\r\n      setUrl(\"temp 1\")\r\n      console.log(\"url: \" + url)\r\n\r\n    }).catch(function(error) {\r\n      // Handle any errors\r\n    });\r\n\r\n  } */\r\n\r\n  const handleChange = event => {\r\n\r\n    let value = event.target.value;\r\n    setTitle(value);\r\n    setValid({ ...valid, [\"title\"]: value.length > 2 ? true : false });\r\n\r\n    dispatch({\r\n      type: \"SETTITLE\",\r\n      title: value\r\n    })\r\n  };\r\n\r\n  const handleIngredientsAdd = length => {\r\n    setValid({ ...valid, [\"ingredients\"]: length > 1 ? true : false });\r\n  };\r\n\r\n  const handleDescriptionsAdd = length => {\r\n    setValid({ ...valid, [\"desc\"]: length > 1 ? true : false });\r\n  };\r\n\r\n  const onFileAdd = (files) => {\r\n    setValid({ ...valid, [\"image\"]: true });\r\n    setFiles(files);\r\n\r\n    var reader = new FileReader();\r\n    reader.onload = function(e) {\r\n      setImage(e.target.result);\r\n      imageDisp(e.target.result);\r\n    }\r\n\r\n    reader.readAsDataURL(files[0]);\r\n    imageDisp();\r\n  };\r\n\r\n  const onFileRemove = () => {\r\n    setValid({ ...valid, [\"image\"]: false });\r\n    setFiles([]);\r\n    setImage(undefined);\r\n  };\r\n\r\n  // upload image and callback with download URL\r\n  const uploadImage = (callback) => {\r\n\r\n    setUpload_wait(true);\r\n    // Create a reference to the new image\r\n    let storageRef = firebase.storage();\r\n    let newImageRef = storageRef.ref('recept/' + title + '_image.jpg');\r\n\r\n    // Upload image as a Base64 formatted image string.\r\n    let uploadTask = newImageRef.putString(image, 'data_url');\r\n\r\n    uploadTask.on('state_changed', function(snapshot){\r\n    }, function(error) { // Handle unsuccessful uploads\r\n    }, function() { // Handle successful uploads on complete\r\n\r\n      uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n        console.log('Successful upload. File available at', downloadURL);\r\n        callback(downloadURL);\r\n      });\r\n    });\r\n  }\r\n\r\n  const uploadAction = () => {\r\n    console.log(\"upload now\")\r\n\r\n    // make sure all valid\r\n    if(!allValid())\r\n    {\r\n      console.log(\"some input is not valid\")\r\n      return;\r\n    }\r\n\r\n    // make sure signed in\r\n    if(store.firestore_user == undefined) {\r\n      alert(\"you have to sign in first\")\r\n      return\r\n    }\r\n\r\n    // when image is uploaded, continue with uploading the rest\r\n    uploadImage(function(returnValue_downloadURL) {\r\n      // use the return value here instead of like a regular (non-evented) return value\r\n      let downloadURL = returnValue_downloadURL;\r\n\r\n      let username = store.firestore_user.username; //  \"CheapChef\";\r\n      let recipe_name = upload_store.title; // \"Linssoppa\"\r\n\r\n      /*\r\n      let temp_i = [\r\n      {name: 'lax (temp data)', quantity: \"400\", measure: \"gram\"},\r\n      {name: 'pasta', quantity: \"500\", measure: \"gram\"},\r\n      {name: 'citron', quantity: \"1\", measure: \"st\"},\r\n      {name: 'chilipeppar', quantity: \"1\", measure: \"tsk\"}\r\n      ];\r\n\r\n      let temp_d = [\r\n      {order: 0, text: \"Koka upp pastavattnet\"},\r\n      {order: 2, text: \"Stek lax i pannan med olivolja\"},\r\n      {order: 1, text: \"Blanda och tillsätt pressad citron och chilipeppar\"}\r\n    ]; */\r\n\r\n      const document = store.db.doc('recipes/' + recipe_name + '-' + username);\r\n      let r_img = \"temp_food1\";\r\n\r\n      setId(document.id)\r\n\r\n      // Enter new data into the document.\r\n      document.set({\r\n        user: username,\r\n        title: recipe_name,\r\n        img: r_img,\r\n        img_url: downloadURL,\r\n        ingredients: upload_store.ingredients,\r\n        description: upload_store.descriptions\r\n      }).then((test) => {\r\n        // Document created successfully.\r\n        console.log( \"Document created/updated successfully.\")\r\n        setUpload_wait(false);\r\n        setDone(true);\r\n      });\r\n\r\n    }); // end of image upload callback\r\n\r\n  };\r\n\r\n  const goToRecipe = () => {\r\n\r\n    history.push(\"/recipe/\" + title + \"/\" + id );\r\n  };\r\n\r\n  let bottom_content;\r\n  // if working on recipe\r\n  if(upload_wait == false && done == false)\r\n  {\r\n    bottom_content = (<Button\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      startIcon={<CloudUploadIcon />}\r\n      onClick={uploadAction}\r\n    >\r\n      Upload\r\n    </Button> );\r\n  }\r\n  else if ( upload_wait == true ) // if waiting on upload\r\n  {\r\n    bottom_content = (<div className={classes.spinner} ><Spinner name=\"ball-scale-multiple\" color=\"#ffffff\" fadeIn=\"none\"/></div>);\r\n  } else // done with upload\r\n  {\r\n    bottom_content = (<Button\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      onClick={goToRecipe}\r\n    >\r\n      Uppladding klar! Visa recept\r\n    </Button> );\r\n  }\r\n\r\n\r\n  return (\r\n\r\n\r\n    <div>\r\n      <h3>Ladda upp recept</h3>\r\n\r\n      <form>\r\n\r\n      <Grid\r\n        container\r\n        spacing={1}\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n      >\r\n\r\n        <ValidCheck checked={valid.title} xs={2}/>\r\n\r\n\r\n        <Grid item xs={9}>\r\n        <FormControl variant=\"outlined\">\r\n          <InputLabel ref={labelRef} htmlFor=\"component-outlined\"> Rubrik </InputLabel>\r\n          <OutlinedInput\r\n            value={title}\r\n            onChange={handleChange}\r\n            labelWidth={labelWidth}\r\n          />\r\n        </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n        <ExpansionPanel style={{background: '#fbfbfb', marginTop: '8px'}}>\r\n          <ExpansionPanelSummary\r\n            expandIcon={<ExpandMoreIcon />}\r\n            aria-label=\"Expand\"\r\n            aria-controls=\"additional-actions1-content\"\r\n            id=\"additional-actions1-header\"\r\n          >\r\n            <FormControlLabel\r\n              aria-label=\"Acknowledge\"\r\n              control={<ValidCheck checked={valid.ingredients} xs={2}/>}\r\n              label=\"Ingredienser\"\r\n              className={classes.formlabel}\r\n            />\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <IngredientsList handleAdd={handleIngredientsAdd}/>\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n        <ExpansionPanel style={{background: '#f7f6f6'}}>\r\n          <ExpansionPanelSummary\r\n            expandIcon={<ExpandMoreIcon />}\r\n            aria-label=\"Expand\"\r\n            aria-controls=\"additional-actions1-content\"\r\n            id=\"additional-actions1-header\"\r\n          >\r\n            <FormControlLabel\r\n              aria-label=\"Acknowledge\"\r\n              control={<ValidCheck checked={valid.desc} xs={2}/>}\r\n              label=\"Beskrivning\"\r\n              className={classes.formlabel}\r\n            />\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <DescriptionList handleAdd={handleDescriptionsAdd}/>\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n        </Grid>\r\n\r\n      </Grid>\r\n\r\n      <div className={classes.imagediv} >\r\n        <ValidCheck checked={valid.image} xs={2}/>\r\n        <Grid container spacing={1}>\r\n          <Grid item xs={9} style={{\r\n              display: 'flex',\r\n              marginBottom: '10px'\r\n          }}>\r\n          <FileInput value={files} onChange={onFileAdd} />\r\n          </Grid>\r\n\r\n        </Grid>\r\n        { image != undefined &&\r\n        <React.Fragment>\r\n          <Grid item xs={9}>\r\n            <img src={image} alt={\"loadedimage\"} className={classes.loadedimage} />\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={onFileRemove}\r\n              style={{lineHeight: '1.2'}}\r\n            >\r\n              Ta bort bild\r\n            </Button>\r\n          </Grid>\r\n        </React.Fragment>\r\n\r\n        }\r\n        </div>\r\n\r\n        <div className={classes.uploaddiv} >\r\n          <Grid container justify=\"center\" alignItems=\"center\">\r\n          <Grid item xs={4} className=\"whitebtn\">\r\n          {bottom_content}\r\n          </Grid>\r\n          </Grid>\r\n          </div>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n\r\n}\r\n\r\n\r\n// material ui design\r\nconst useStyles = makeStyles(theme => ({\r\n  body: {\r\n    padding: 15\r\n  },\r\n  buttontext: {\r\n    textTransform: 'unset'\r\n  },\r\n  input: {\r\n    color: 'black',\r\n    width: 200\r\n  },\r\n  loadedimage: {\r\n    width: '100%',\r\n    borderRadius: '4px'\r\n  },\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  formlabel: {\r\n    marginRight: '30px'\r\n  },\r\n  imagediv: {\r\n    background: '#fbfbfb',\r\n    borderRadius: '4px',\r\n    padding: '40px',\r\n    marginTop: '8px'\r\n  },\r\n  uploaddiv: {\r\n    background: '#68bb8c',\r\n    borderRadius: '4px',\r\n    padding: '40px',\r\n    marginTop: '8px'\r\n  },\r\n  greenicon: {\r\n    color: '#68BB8C'\r\n  },\r\n  redicon: {\r\n    color: 'red'\r\n  },\r\n  newListItem: {\r\n    background: '#f3f3f3'\r\n  },\r\n  titlediv: {\r\n    background: 'gray'\r\n  },\r\n  spinner: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  }\r\n}));\r\n\r\nexport default UploadPage;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useParams} from \"react-router\";\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from \"react-redux\";\r\n// import { recipeFetch } from '../actions/RecipeActions';\r\n\r\nimport ValidCheck from '../components/validcheck';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport Divider from '@material-ui/core/Divider';\r\n// import Container from '@material-ui/core/container';\r\n\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\n//let admin = require('firebase-admin');\r\n\r\nfunction RecipePage(props) {\r\n\r\n  const [ ifUser, setIfUser] = useState(false);\r\n  const [ recipe, setRecipe] = useState(undefined);\r\n  const [ saved, setSaved ] = useState({likes: false, doc_id: undefined});\r\n  const [ tried, setTried ] = useState(false);\r\n  const { recipetitle, id } = useParams();\r\n  const store = useSelector(state => state.fireReducer);\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    // someFetcher();\r\n\r\n    let ref = store.db.collection('recipes').doc(id);\r\n    // ref.on('value', function(snap) { console.log(snap.val()); })\r\n    recipeFetcher(ref);\r\n    // likeFetcher();\r\n\r\n\r\n  }, []);\r\n\r\n  // know if recipe belongs to this user\r\n  useEffect(() => {\r\n    // exit funtion if undefined\r\n    if(!store.firestore_user || !recipe || !recipe.user_doc.username )\r\n      return;\r\n\r\n    if(recipe.user_doc.username == store.firestore_user.username) {\r\n      console.log(\"same as logged in: \" + recipe.user_doc.username)\r\n      setIfUser(true);\r\n    } else {\r\n      console.log(\"NOT same as logged in: \" + recipe.user_doc.username)\r\n    }\r\n\r\n    console.log(store.firestore_user.email)\r\n    let queryRef = store.db.collection('likes').where('email', '==', store.firestore_user.email);\r\n    likeFetcher(queryRef);\r\n\r\n\r\n  }, [store.firestore_user, recipe]);\r\n\r\n  const likeFetcher = (ref) => {\r\n\r\n    ref.get()\r\n    .then(snapshot => {\r\n      if (snapshot.empty) {\r\n        console.log('No matching documents.');\r\n        return;\r\n      }\r\n\r\n      snapshot.forEach(doc => {\r\n        console.log(doc.id, '=>', doc.data());\r\n        let data = doc.data();\r\n\r\n        data.recipe_ref.get().then(function(recipe_doc) {\r\n          let recipe_data = recipe_doc.data()\r\n\r\n          if(recipe_doc.id == recipe.id ) {\r\n            console.log(\"Yeah I like this recipe! \", recipe_doc.id);\r\n            setSaved({likes: true, doc_id: doc.id});\r\n          }\r\n        });\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log('Error getting documents', err);\r\n    });\r\n  }\r\n\r\n  const likeRecipe = () => {\r\n\r\n    console.log(\"likeRecipe\")\r\n\r\n    // stop liking\r\n    if(saved.likes) {\r\n      store.db.collection('likes').doc(saved.doc_id).delete();\r\n    } else {\r\n      let temp_ref = store.db.collection('recipes').doc(id);\r\n      store.db.collection('likes').doc(recipe.id).set({email: store.firestore_user.email, recipe_ref: temp_ref});\r\n    }\r\n\r\n    //setSaved( !saved );\r\n    setSaved({likes: !saved.likes, doc_id: !saved.doc_id});\r\n\r\n  };\r\n\r\n  const tryRecipe = () => {\r\n    setTried( !tried );\r\n  };\r\n\r\n  const editRecipe = () => {\r\n\r\n    console.log(\"edit recipe\")\r\n\r\n    dispatch({\r\n      type: \"SETDESCRIPTIONS\",\r\n      descriptions: recipe.description\r\n    })\r\n\r\n    dispatch({\r\n      type: \"SETINGREDIENTS\",\r\n      ingredients: recipe.ingredients\r\n    })\r\n\r\n    dispatch({\r\n      type: \"SETTITLE\",\r\n      title: recipe.title\r\n    })\r\n    /*\r\n    dispatch({\r\n      type: \"SETDESCRIPTIONS\",\r\n      descriptions: descriptions\r\n    }) */\r\n    history.push(\"/upload\" );\r\n  }\r\n\r\n  const handleUserClick = () => {\r\n    history.push(\"/profile/\" + recipe.user_doc.username );\r\n  };\r\n\r\n  const recipeFetcher = (ref) => {\r\n    ref.get().then(function(doc) {\r\n        if (doc.exists) {\r\n            let data = doc.data()\r\n            data.id = doc.id;\r\n            // console.log(\"Document data:\", data);\r\n            if(data.user_ref) {\r\n              // get user info\r\n              data.user_ref.get().then(function(user_doc) {\r\n                let user_data = user_doc.data()\r\n                data.user_doc = user_data; // append to recipe data\r\n                // console.log(\"Document USER data:\", user_data);\r\n                setRecipe(data);\r\n              });\r\n            } else {\r\n              setRecipe(data);\r\n            }\r\n\r\n        } else {\r\n            // doc.data() will be undefined in this case\r\n            console.log(\"No such document!\");\r\n        }\r\n    }).catch(function(error) {\r\n        console.log(\"Error getting document:\", error);\r\n    });\r\n\r\n  }\r\n\r\n  let icon = (saved.likes === true) ? <FavoriteIcon/> : <FavoriteBorderIcon/>;\r\n  let r_img = ( recipe != undefined) ? recipe.img : 'temp_food1';\r\n  let triedbyNum = 3;\r\n  // , zIndex: '-1'\r\n\r\n  /*\r\n\r\n  <h2 style={{display: 'inline'}}>\r\n    <Button disableTouchRipple onClick={likeRecipe}\r\n    style={{display: 'inline', backgroundColor: 'transparent'}}>\r\n      {icon}\r\n    </Button>\r\n    { recipetitle + ' | ' }\r\n\r\n  </h2>\r\n  <h2 onClick={ handleUserClick} style={{display: 'inline'}}>\r\n    { recipe.user }\r\n  </h2>\r\n\r\n  */\r\n\r\n  let img_src;\r\n\r\n  if  ( recipe != undefined && recipe.img_url != undefined) {\r\n    img_src = recipe.img_url;\r\n  } else {\r\n    img_src = require('../assets/'+ r_img + '.jpg');\r\n  }\r\n\r\n  // console.log(img_src)\r\n\r\n  return (\r\n\r\n    <div>\r\n\r\n      { recipe != undefined &&\r\n        <div>\r\n\r\n          <div className={classes.recipeheader}>\r\n          <span>\r\n            <Button disableTouchRipple onClick={likeRecipe}\r\n            style={{display: 'inline', backgroundColor: 'transparent'}}>\r\n              {icon}\r\n            </Button>\r\n            { recipetitle + ' | ' }\r\n\r\n          </span>\r\n          <span>\r\n\r\n            <Button disableTouchRipple onClick={handleUserClick}\r\n            style={{display: 'inline', backgroundColor: 'transparent', textTransform: 'none'}}>\r\n              { recipe.user_doc.username }\r\n            </Button>\r\n          </span>\r\n          </div>\r\n\r\n        <Grid\r\n          container\r\n          spacing={1}\r\n          justify=\"center\"\r\n\r\n        >\r\n          <Grid item xs={6} >\r\n            <img src={img_src} className={classes.listimage} alt={\"recipe img\"} />\r\n          </Grid>\r\n          <Grid item xs={4} className={classes.imagesidebar}>\r\n            { tried === true &&\r\n            <div className={classes.triedby} >\r\n              <span className={classes.triedbyText}> Testat av </span>\r\n              <span className={classes.triedbyNum}> {triedbyNum} </span>\r\n              <span className={classes.triedbyText}> { triedbyNum > 1 ? \"kockar\" : \"kock\" }! </span>\r\n            </div>\r\n            }\r\n            { tried === false &&\r\n            <div className={classes.triedby} onClick={tryRecipe}>\r\n              <span className={classes.triedbyText}>\r\n                Bli den första att testa detta recept!\r\n              </span>\r\n            </div>\r\n            }\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <IngredientsList ingredients={recipe.ingredients}/>\r\n        <RecipeDecsList description={recipe.description}/>\r\n\r\n        {ifUser &&\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            startIcon={<EditIcon />}\r\n            onClick={editRecipe}\r\n          >\r\n            Ändra recept\r\n          </Button>\r\n        }\r\n\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n\r\n  ); // style={{display: 'inline', backgroundColor: 'transparent', textTransform: 'none'}}\r\n\r\n}\r\n\r\n\r\n\r\nfunction IngredientsList(props) {\r\n\r\n  const classes = useStyles();\r\n\r\n/*\r\n  let ingredients = [\r\n  \"2 dl mjöl\", \"1 tsk salt\", \"4 dl mjölk\", \"2 ägg\"\r\n]; */\r\n\r\n\r\n  let temp_ingredients = [\r\n  {name: 'mjöl (default data)', quantity: \"2\", measure: \"dl\"},\r\n  {name: 'salt', quantity: \"1\", measure: \"tsk\"},\r\n  {name: 'mjölk', quantity: \"4\", measure: \"dl\"},\r\n  {name: 'ägg', quantity: \"2\", measure: \"\"}\r\n];\r\n\r\n  let ingredients = (props.ingredients != undefined) ? props.ingredients : temp_ingredients;\r\n\r\n  let ingredientsjsx = ingredients.map((ingred, idx) =>\r\n  <React.Fragment key={idx}>\r\n    <ListItem>\r\n      <ListItemText\r\n        primary={ ingred.quantity + \" \" + ingred.measure + \" \" + ingred.name }\r\n      />\r\n\r\n    </ListItem>\r\n    { idx < ingredients.length - 1 && <Divider component=\"li\" /> }\r\n  </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h3> Ingredienser </h3>\r\n      <List dense={true} className={classes.ingredientslist}>\r\n        {ingredientsjsx}\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RecipeDecsList(props) {\r\n\r\n  const classes = useStyles();\r\n\r\n  let temp_description = [\r\n  {order: 0, text: \"Knäck äggen i en bunke (default data)\"},\r\n  {order: 2, text: \"Stek i pannan meed smör eller kokosolja\"},\r\n  {order: 1, text: \"Vispa i mjöl, mjölk och salt\"}\r\n  ];\r\n\r\n  let description = (props.description != undefined) ? props.description : temp_description;\r\n\r\n  // sort by order\r\n  description.sort( (desc1, desc2) => desc1.order - desc2.order );\r\n\r\n  let descjsx = description.map((desc, idx) =>\r\n    <RecipeDecsListItem idx={idx} key={idx} desc={desc.text} len={description.length}/>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h3> Gör så här </h3>\r\n      <List dense={true} className={classes.ingredientslist}>\r\n        {descjsx}\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RecipeDecsListItem(props) {\r\n\r\n  const [checked, setChecked] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  let idx = props.idx;\r\n\r\n  const onIngredClick = (idx) => {\r\n    setChecked(!checked);\r\n  }\r\n\r\n  let icon = (checked === true ) ? <CheckBoxIcon className={classes.checkIcon}/> : <CheckBoxOutlineBlankIcon className={classes.checkIcon}/> ;\r\n  // console.log(props.desc)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ListItem\r\n        onClick={() => onIngredClick(idx)}\r\n      >\r\n        {icon}\r\n        <ListItemText primary={ props.desc }/>\r\n      </ListItem>\r\n      { idx < props.len - 1 && <Divider component=\"li\" /> }\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  listimage: {\r\n    maxHeight: '100%',\r\n    maxWidth: '100%',\r\n    borderRadius: '4px',\r\n    objectFit: 'cover',\r\n    minHeight: '150px',\r\n    maxWidth: '150px'\r\n  },\r\n  imagesidebar: {\r\n    padding: 5\r\n  },\r\n  triedby: {\r\n    background: '#f1f1f1',\r\n    borderRadius: '4px',\r\n    padding: 5,\r\n    textAlign: 'center'\r\n  },\r\n  triedbyText: {\r\n    margin: '0',\r\n  },\r\n  triedbyNum: {\r\n    fontWeight: 'bold',\r\n    display: 'block',\r\n    fontSize: '2em'\r\n  },\r\n  ingredientslist: {\r\n   marginTop: '20px',\r\n },\r\n checkIcon: {\r\n   marginRight: '10px',\r\n   color: '#68bb8c'\r\n },\r\n recipeheader: {\r\n   margin: '20px 0px',\r\n   fontWeight: 'bold'\r\n }\r\n});\r\n\r\nexport default RecipePage;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\n// import { useDispatch } from \"react-redux\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\n\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [signedInStatus, setSignedInStatus] = useState(\"Ej inloggad\");\r\n\r\n  const classes = useStyles();\r\n\r\n  // const dispatch = useDispatch(); // be able to dispatch\r\n\r\n  /**\r\n   * Handles the sign in button press.\r\n   */\r\n  function toggleSignIn() {\r\n\r\n    console.log(\"toggleSignIn\")\r\n\r\n    // sign out if signed in\r\n    if (firebase.auth().currentUser) {\r\n      firebase.auth().signOut();\r\n    } else {\r\n\r\n      if (email.length < 4) {\r\n        alert('Ogiltig mailadress, måste innehålla mer än 4 tecken.');\r\n        return;\r\n      }\r\n      if (password.length < 4) {\r\n        alert('Ogiltigt lösenord, måste innehålla mer än 4 tecken.');\r\n        return;\r\n      }\r\n      // Sign in with email and pass.\r\n      firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {\r\n        // Handle Errors here.\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n\r\n        if (errorCode === 'auth/wrong-password') {\r\n          alert('fel lösenord.');\r\n        } else {\r\n          alert(errorMessage);\r\n        }\r\n        console.log(error);\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Handles the sign up button press.\r\n   */\r\n  function handleSignUp() {\r\n\r\n    console.log(\"handleSignUp\")\r\n\r\n    if (email.length < 4) {\r\n      alert('Ogiltig mailadress, måste innehålla mer än 4 tecken');\r\n      return;\r\n    }\r\n    if (password.length < 4) {\r\n      alert('Ogiltigt lösenord, måste innehålla mer än 4 tecken');\r\n      return;\r\n    }\r\n    // Sign in with email and pass.\r\n    firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {\r\n      // Handle Errors here.\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n\r\n      if (errorCode == 'auth/weak-password') {\r\n        alert('Lösenordet är för svagt.');\r\n      } else {\r\n        alert(errorMessage);\r\n      }\r\n      console.log(error);\r\n    });\r\n    console.log(\"signed up \" + email);\r\n  }\r\n\r\n  function sendEmailVerification() {\r\n      firebase.auth().currentUser.sendEmailVerification().then(function() {\r\n        // Email Verification sent!\r\n        alert('Email Verification Sent!');\r\n      });\r\n  }\r\n\r\n  let signText = (firebase.auth().currentUser) ? \"Logga ut\" : \"Logga in\";\r\n  let btn_color = (firebase.auth().currentUser) ? \"secondary\" : \"primary\";\r\n\r\n  return (\r\n\r\n    <div className={classes.login_div}>\r\n    <p>Ange email and lösenord för att logga in eller skapa ett konto</p>\r\n\r\n         <input type=\"text\" name=\"email\" placeholder=\"Email\" onChange={evt => setEmail(evt.target.value)}/>\r\n\r\n         &nbsp;&nbsp;&nbsp;\r\n         <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={evt => setPassword(evt.target.value)}/>\r\n\r\n         <br/><br/>\r\n\r\n         <Button\r\n           variant=\"contained\"\r\n           color={btn_color}\r\n           onClick={toggleSignIn}\r\n         >\r\n           {signText}\r\n         </Button>\r\n\r\n         &nbsp;&nbsp;&nbsp;\r\n\r\n         <Button\r\n           variant=\"contained\"\r\n           color=\"primary\"\r\n           onClick={handleSignUp}\r\n         >\r\n           Skapa konto\r\n         </Button>\r\n\r\n\r\n    </div>\r\n\r\n  );\r\n\r\n}\r\n\r\n/*\r\n<OutlinedInput\r\n  value={email}\r\n  onChange={evt => setEmail(evt.target.value)}\r\n/>*/\r\n\r\nconst useStyles = makeStyles({\r\n  login_div: {\r\n    background: '#f5f5f5',\r\n    padding: '1em',\r\n    margin: '0.5em',\r\n    borderRadius: '15px'\r\n }\r\n});\r\n\r\n// <span id=\"quickstart-sign-in-status\"> &nbsp; {signedInStatus} </span>\r\n// <button onClick={sendEmailVerification} name=\"verify\">Verifiera konto</button>\r\n\r\n/*\r\n\r\n<!--\r\n<button id=\"quickstart-verify-email\" onClick={handleChange} name=\"verify-email\">Send Email Verification</button>\r\n&nbsp;&nbsp;&nbsp;\r\n<button id=\"quickstart-password-reset\" onClick={handleChange} name=\"verify-email\">Send Password Reset Email</button> --> */\r\n\r\nexport default Login;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\n// import { useDispatch } from \"react-redux\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\n\r\n\r\nfunction Settings(props) {\r\n\r\n  const [username_textfield, setUsername_textfield] = useState(\"\");\r\n  const [has_changed, setHas_changed] = useState(false);\r\n  const [labelWidth, setLabelWidth] = React.useState(0);\r\n  const [in_editmode, setIn_editmode] = React.useState(false);\r\n  const labelRef = React.useRef(null);\r\n\r\n  const classes = useStyles();\r\n  const store = useSelector(state => state.fireReducer);\r\n\r\n  React.useEffect(() => {\r\n    setLabelWidth(labelRef.current.offsetWidth);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if(store.firestore_user && username_textfield != store.firestore_user.username) {\r\n      setHas_changed(true)\r\n    }\r\n  }, [username_textfield]);\r\n\r\n  // when information about user signed in arrives, set textfield value\r\n  React.useEffect(() => {\r\n    if(store.firestore_user) {\r\n      setUsername_textfield(store.firestore_user.username)\r\n    }\r\n  }, [store.firestore_user]);\r\n\r\n  // exit edit mode\r\n  function cancel_edit() {\r\n\r\n    setIn_editmode(false);\r\n    if(has_changed) {\r\n      setUsername_textfield(store.firestore_user.username);\r\n    }\r\n  }\r\n\r\n  // update in Firebase\r\n  function save_username() {\r\n\r\n    console.log(\"set username to \" + username_textfield)\r\n\r\n    // Set the 'username' field of the city\r\n    let cityRef = store.db.collection('users').doc(store.firestore_user.email).update({username: username_textfield});\r\n    setIn_editmode(false);\r\n\r\n  }\r\n\r\n\r\n  //let signText = (firebase.auth().currentUser) ? \"Logga ut\" : \"Logga in\";\r\n\r\n  // let username = (store.firestore_user) ? store.firestore_user.username : \"unset\";\r\n\r\n  return (\r\n\r\n    <div className={classes.login_div}>\r\n      <h3>Inställningar</h3>\r\n\r\n      <ExpansionPanel style={{background: '#fbfbfb', marginTop: '8px'}}>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography className={classes.heading}>Användarnamn</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={{display: 'inline-block'}}>\r\n\r\n          <FormControl variant=\"outlined\">\r\n            <InputLabel ref={labelRef} htmlFor=\"component-outlined\"> Användarnamn </InputLabel>\r\n            <OutlinedInput\r\n              value={username_textfield}\r\n              onChange={(e) => setUsername_textfield(e.target.value)}\r\n              labelWidth={labelWidth}\r\n              disabled={!in_editmode}\r\n            />\r\n          </FormControl>\r\n\r\n          { !in_editmode &&\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setIn_editmode(true)}\r\n            className={classes.buttons}\r\n          >\r\n            Ändra användarnamn\r\n          </Button>\r\n          }\r\n          { in_editmode &&\r\n          <React.Fragment>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => cancel_edit() }\r\n              className={classes.buttons}\r\n            >\r\n              Avbryt\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => console.log(\"Slumpa\")}\r\n              className={`${classes.buttons} ${classes.rainbow}`}\r\n            >\r\n              Slumpa 🤪\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => save_username()}\r\n              className={classes.buttons}\r\n              disabled={!has_changed}\r\n            >\r\n              Spara nytt användarnamn\r\n            </Button>\r\n          </React.Fragment>\r\n          }\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n\r\n    </div>\r\n  );\r\n} // className={classes.formlabel}\r\n\r\nconst useStyles = makeStyles({\r\n  login_div: {\r\n    background: '#f5f5f5',\r\n    padding: '1em',\r\n    margin: '0.5em',\r\n    borderRadius: '15px'\r\n },\r\n buttons: {\r\n   margin: '5px'\r\n },\r\n rainbow: {\r\n   backgroundImage: 'linear-gradient(to bottom right, #ff49e0 , #26ffa7)',\r\n   fontWeight: 'bold'\r\n }\r\n});\r\n\r\nexport default Settings;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport RecipeGridList from '../components/recipegrid';\r\nimport RecipeItem from '../components/recipeitem';\r\nimport FollowerList from '../components/followerlist';\r\nvar Spinner = require('react-spinkit');\r\n\r\nfunction SearchPage(props) {\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [recipes, setRecipes] = useState(undefined);\r\n\r\n  const classes = useStyles();\r\n  const store = useSelector(state => state.fireReducer);\r\n\r\n  let searchstring = \"\";\r\n\r\n  useEffect(() => {\r\n    userFetcher('users');\r\n    userFetcher('recipes');\r\n  }, []);\r\n\r\n  const userFetcher = (collection_name) => {\r\n\r\n    store.db.collection(collection_name).onSnapshot(function(querySnapshot) {\r\n\r\n          let temp_users = [];\r\n          querySnapshot.forEach( doc => {\r\n            //let data = doc.data();\r\n            let data = doc.data();\r\n            data.id = doc.id;\r\n            temp_users.push(data);\r\n          });\r\n\r\n          if (collection_name == 'users')\r\n            setUsers(temp_users);\r\n          if (collection_name == 'recipes')\r\n            setRecipes(temp_users);\r\n      });\r\n  }\r\n\r\n  let followingInfo = users.map( user => {\r\n    let obj = {username: user.username, fullname: \"\", follows: false};\r\n    return obj;\r\n  });\r\n\r\n  /*\r\n  {\r\n    recipes.map( (recipe, idx) =>\r\n      <RecipeItem recipe={recipe} key={idx}/>\r\n    )\r\n  }*/\r\n\r\n  return (\r\n\r\n    <div>\r\n      <h3>Sökresultat</h3>\r\n\r\n      { searchstring == \"\" && <p> Sök specifikt recept eller användare ovan </p> }\r\n\r\n      { users.length <= 0 && <div className={classes.spinner} ><Spinner name=\"ball-scale-multiple\" color=\"#68BB8C\" fadeIn=\"none\"/></div> }\r\n      { users.length > 0 && <React.Fragment>\r\n      <b> Alla användare: </b>\r\n      <div>\r\n      <FollowerList followerData={followingInfo}/>\r\n      </div>\r\n      <b> Alla recept: </b>\r\n      <div>\r\n      { recipes != undefined && <RecipeGridList recipes={recipes}/> }\r\n\r\n      </div>\r\n      </React.Fragment> }\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  spinner: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: 100\r\n  }\r\n});\r\n\r\nexport default SearchPage;\r\n","import React from 'react';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport LinkUI from '@material-ui/core/Link';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n    marginBottom: '50px'\r\n  },\r\n  menuButton: {\r\n    marginRight: 0, // theme.spacing(2),\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(7),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 7),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 200,\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  whiteColor: {\r\n    color: 'white'\r\n  },\r\n  buttonPad: {\r\n    padding: '6px',\r\n    fontSize: 'small'\r\n  }\r\n}));\r\n\r\nfunction ProfileBtn (props) {\r\n\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const store = useSelector(state => state.fireReducer);\r\n\r\n\r\n\r\n  //console.log(\"topbar firebase user: \")\r\n  // console.log(store.user)\r\n\r\n  //console.log(props)\r\n  // history.push(\"/\" + val);\r\n  // (e) => props.handleChange(undefined, e.target.value)\r\n\r\n  let btn = (\r\n    <div>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={() => history.push(\"/login\")}\r\n        className={classes.buttonPad}\r\n      >\r\n        logga in\r\n      </Button>\r\n    </div> );\r\n\r\n  let jsx_content = props.signedIn ? <AccountCircleIcon/> : btn;\r\n\r\n  if(props.signedIn === true && store.firestore_user)\r\n  {\r\n    return (\r\n      <IconButton\r\n        edge=\"start\"\r\n        className={classes.menuButton}\r\n        color=\"inherit\"\r\n        aria-label=\"open profile\"\r\n        onClick={() => history.push(\"/profile/\" + store.firestore_user.username)}\r\n      >\r\n      {jsx_content} </IconButton>\r\n\r\n    );\r\n  } else {\r\n    return btn;\r\n  }\r\n\r\n}\r\n\r\nfunction TopMenuBar(props) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const store_temp = useSelector(state => state.testReducers);\r\n  const history = useHistory();\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const lala = () => {\r\n    history.push(\"/home\");\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = event => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleSearchFocus = () => {\r\n    if(history.location.pathname != \"/search\")\r\n      history.push(\"/search\")\r\n  };\r\n\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Messages</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <NotificationsIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notifications</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Profile</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={ () => history.goBack() }\r\n          >\r\n            <ArrowBackIosIcon />\r\n          </IconButton>\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n\r\n            <LinkUI component={Link} to=\"/home\" style={{ textDecoration: 'none', color: 'white' }}>\r\n              Campuskost\r\n            </LinkUI>\r\n          </Typography>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ 'aria-label': 'search' }}\r\n              onBlur={() => console.log(\"onBlur\")}\r\n              onFocus={() => handleSearchFocus()}\r\n            />\r\n          </div>\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n          <ProfileBtn signedIn={props.signedIn} handleChange={props.handleChange}/>\r\n          </div>\r\n\r\n          <div className={classes.sectionMobile}>\r\n          <ProfileBtn signedIn={props.signedIn} handleChange={props.handleChange}/>\r\n          </div>\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TopMenuBar;\r\n","import React, {useState, useEffect} from 'react';\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\n//import { HashRouter as BrowserRouter, Router, Route, Link, Switch, Redirect } from \"react-router-dom\";\nimport { BrowserRouter as BrowserRouter, Router, Route, Link, Switch, Redirect } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\n// import { useHistory } from \"react-router-dom\";\nimport { incrementdispatch } from './actions/RecipeActions';\nimport './App.css';\nimport './style/GlobalCssButton.css';\n\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nimport FeedPage from './pages/feedpage';\nimport ProfilePage from './pages/profilepage';\nimport NoticePage from './pages/noticepage';\nimport FavoritePage from './pages/favoritepage';\nimport UploadPage from './pages/uploadpage';\nimport RecipePage from './pages/recipepage';\nimport Login from './pages/login';\nimport Settings from './pages/settings';\nimport SearchPage from './pages/searchpage';\nimport TopMenuBar from './components/topmenubar';\n// import Feed from './pages/feedpage';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport Badge from '@material-ui/core/Badge';\n\nimport PublishIcon from '@material-ui/icons/PublishRounded';\nimport NotificationsActiveRoundedIcon from '@material-ui/icons/NotificationsActiveRounded';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport LoyaltyRoundedIcon from '@material-ui/icons/LoyaltyRounded';\nimport HomeRoundedIcon from '@material-ui/icons/HomeRounded';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nrequire('dotenv').config();\n//\nconst API_KEY = process.env.REACT_APP_FIREBASE_API_KEY;\n\n// for PWA - needed?\nlet deferredPrompt;\nwindow.addEventListener('beforeinstallprompt', (e) => {\n  // Stash the event so it can be triggered later.\n  deferredPrompt = e;\n  deferredPrompt.prompt();\n\n  // Update UI notify the user they can add to home screen\n  deferredPrompt.userChoice\n    .then((choiceResult) => {\n      if (choiceResult.outcome === 'accepted') {\n        console.log('User accepted the A2HS prompt');\n      } else {\n        console.log('User dismissed the A2HS prompt');\n      }\n      deferredPrompt = null;\n  });\n\n});\n\nlet db = undefined;\nfunction initFirebase() {\n\n  console.log(\"run initFirebase\")\n\n  const firebaseConfig = {\n    apiKey: API_KEY, // \"AIzaSyAq0vTBf0o5MckjHcCOJiJ_DRK8v_UZY88\",\n    authDomain: \"campuskost-firebase.firebaseapp.com\",\n    databaseURL: \"https://campuskost-firebase.firebaseio.com\",\n    projectId: \"campuskost-firebase\",\n    storageBucket: \"campuskost-firebase.appspot.com\",\n    messagingSenderId: \"477692438735\",\n    appId: \"1:477692438735:web:2e6dce163d7f7ce8baafba\",\n    measurementId: \"G-MDB52ZHJER\"\n  };\n\n  firebase.initializeApp(firebaseConfig);\n  const db = firebase.firestore();\n  //const storage = firebase.storage();\n  let storage = 1;\n\n  return [db, storage];\n}\n\n\nfunction App(props) {\n\n  // const [signedIn, setSignedIn] = React.useState(false);\n  const [value, setValue] = React.useState('default');\n  const [redirect, setRedirect] = React.useState(false);\n\n  const classes = useStyles();\n  const dispatch = useDispatch(); // be able to dispatch\n  const state_user = useSelector(state => state.userReducer); // subscribe to the redux store\n  const store = useSelector(state => state.fireReducer); // subscribe to the redux store\n\n  //console.log(state_user)\n\n  // start auth listener\n  useEffect(() => {\n\n    firebase.auth().onAuthStateChanged(user => {\n      dispatch({ type: user ? \"SIGNIN\" : \"SIGNOUT\" })\n\n      // if user is signed in\n      if( user ) {\n\n        dispatch({\n          type: \"SETUSER\",\n          auth_user: user\n        })\n\n        const user_id = user.uid;\n        const user_email = user.email;\n      //  console.log(\"userId: \" + user_id)\n      //  console.log(\"user_email: \" + user_email)\n      //  console.log(user)\n\n        // check with firestore data\n        // const document = store.db.doc('users/' + user_id);\n        const usersRef = db.collection('users').doc(user_email);\n\n        usersRef.get()\n        .then((docSnapshot) => {\n          if (docSnapshot.exists) {\n            usersRef.onSnapshot((doc) => {\n              // do stuff with the data\n              console.log(\"user exists in firestore\")\n              //console.log(doc.data())\n\n              dispatch({\n                type: \"SETFIREUSER\",\n                firestore_user: doc.data()\n              })\n\n            });\n          } else {\n\n            let userObj = {\n              email: user_email,\n              username: \"DefaultChef\",\n              university: \"\",\n              fullname: \"Master Chef\"\n            };\n\n            console.log(\"create the document\")\n            usersRef.set(userObj); // create the document\n\n            dispatch({\n              type: \"SETFIREUSER\",\n              firestore_user: userObj\n            })\n          }\n      });\n\n        // Enter new data into the document.\n        /*\n        document.set({\n          user: username,\n          title: recipe_name,\n          img: \"temp_food2\",\n          ingredients: temp_i,\n          description: temp_d\n        }).then(() => {\n          // Document created successfully.\n          console.log( \"Document created/updated successfully.\")\n        }); */\n\n      } // end if user\n      else {\n\n      dispatch({\n        type: \"SETUSER\",\n        user: undefined\n      })\n\n      }\n\n    });\n\n    // end auth\n\n  }, []); // end useEffect\n\n\n  if(db === undefined) // init firebase once\n  {\n    let storage;\n    [db, storage] = initFirebase();\n    dispatch({ type: \"SETDB\", db: db });\n    dispatch({ type: \"SETSTORAGE\", storage: storage });\n  }\n\n  const handleChange = (event = undefined, newValue) => {\n\n    console.log(\"heello\" + newValue + \".\")\n\n    //history.push(\"/\" + value);\n    //setRedirect(true);\n    //setValue(newValue);\n\n  };\n\n  // console.log(\"redirect: \" + redirect)\n\n/*\n\n<div className={classes.headerrow}>\n<ProfileBtn signedIn={state_user.signedIn} handleChange={handleChange}/>\n</div>\n\n*/\n\n  // to={{ ...location, pathname: \"/welcome\" }}\n  // to={\"/\" + value}\n  // {redirect ? <Redirect to={{ ...window.location, pathname: \"/\" + value }} /> : null }\n\n  return (\n    <div className=\"body\">\n\n      <BrowserRouter>\n      <div>\n\n        <div className={classes.headerrow}>\n        <TopMenuBar signedIn={state_user.signedIn} handleChange={handleChange}/>\n        </div>\n\n        <div className={classes.mainContainer}>\n\n          <Switch>\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path=\"/profile/:user\" component={ProfilePage} />\n            <Route path=\"/upload\" component={UploadPage} />\n            <Route path=\"/notices\" component={NoticePage} />\n            <Route path=\"/saved\" component={FavoritePage} />\n            <Route path=\"/recipe/:recipetitle/:id\" component={RecipePage} />\n            <Route path=\"/search\" component={SearchPage} />\n            <Route path=\"/home\" component={FeedPage}/>\n            <Redirect exact path=\"/\" to=\"/home\" />\n\n          </Switch>\n\n        </div>\n        <div className={classes.footer}>\n          <BottomMenuBar/>\n        </div>\n\n      </div>\n      </BrowserRouter>\n\n    </div>\n  ); // <Redirect path=\"*\" to=\"/home\" />\n}\n\nfunction BottomMenuBar() {\n\n  const [value, setValue] = React.useState('default');\n\n  const history = useHistory();\n  const classes = useStyles();\n\n  const handleMenuClick = (event = undefined, val) => {\n    setValue(val);\n    history.push(\"/\" + val);\n  };\n\n  return (\n\n    <BottomNavigation value={value} onChange={ (evt,value) => handleMenuClick(evt, value) } className={classes.bottomMenu}>\n      <BottomNavigationAction label=\"Flöde\" value=\"home\" icon={<HomeRoundedIcon />} />\n      <BottomNavigationAction label=\"Ladda up\" value=\"upload\" icon={<PublishIcon />} />\n      <BottomNavigationAction label=\"Notiser\" value=\"notices\" icon={<Badge badgeContent={3} color=\"secondary\"><NotificationsIcon /></Badge>} />\n      <BottomNavigationAction label=\"Sparat\" value=\"saved\" icon={<LoyaltyRoundedIcon />} />\n    </BottomNavigation>\n\n  );\n\n}\n\n// margin: -15px -11px 50px -15px;\n\nconst useStyles = makeStyles({\n  body: {\n    padding: 15,\n    paddingTop: '35px'\n  },\n  mainContainer: {\n    paddingTop: '50px',\n    paddingBottom: '50px'\n  },\n  footer: {\n    position: 'fixed',\n    left: 0,\n    bottom: 0,\n    width: 100 + '%',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  headerrow: {\n    position: 'fixed',\n    left: 0,\n    top: 0,\n    width: 100 + '%'\n  },\n  profileBtn: {\n    color: 'green'\n  },\n  bottomMenu: {\n    width: 500,\n  }\n\n});\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\n//import store from \"./store.js\";\nimport reducer from \"./store.js\";\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n//import { ReactReduxFirebaseProvider, firebaseReducer } from 'react-redux-firebase';\n\n// const initialState = {}\n\nconst store = createStore(\n   reducer,\n   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n );\n\n// const store = createStoreWithFirebase(reducer, initialState)\n // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(\n\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  rootElement\n);\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register();\n"],"sourceRoot":""}