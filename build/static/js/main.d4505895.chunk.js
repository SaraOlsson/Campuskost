(this.webpackJsonpcampuskostreact=this.webpackJsonpcampuskostreact||[]).push([[0],{45:function(e,t,n){e.exports=n(64)},50:function(e,t,n){},52:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(16),i=n.n(r),l=(n(50),n(29)),c=n.n(l),s=n(37),u=n(8),d=n(22),m=n(15),g=(n(52),n(7)),f=n.n(g),p=(n(26),n(35),n(84)),h=Object(p.a)({body:{padding:15}});var v=function(e){var t=o.a.useState(!1),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){f.a.auth().onAuthStateChanged((function(e){i(!!e)}))}),[]),console.log("signedIn: "+r),h(),o.a.createElement("div",null,o.a.createElement("h1",null,"Hey you"),!1===r&&o.a.createElement("p",null," Hey you're not signed in. Things won't work here (redirect back) "),o.a.createElement("button",{onClick:function(){return f.a.auth().signOut()},name:"signout"}," Logga ut "))},b=Object(p.a)({body:{padding:15}});var E=function(e){return b(),o.a.createElement("div",null,o.a.createElement("h1",null,"Dina notiser"))},w=Object(p.a)({body:{padding:15}});var k=function(e){return w(),o.a.createElement("div",null,o.a.createElement("h1",null,"Dina listor"))},j=Object(p.a)({body:{padding:15}});var O=function(e){return j(),o.a.createElement("div",null,o.a.createElement("h1",null,"Upload"))};var y=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],i=n[1],l=Object(a.useState)(""),c=Object(u.a)(l,2),s=c[0],d=c[1],m=Object(a.useState)("Ej inloggad"),g=Object(u.a)(m,2),p=g[0],h=g[1],v=Object(a.useState)("Logga in"),b=Object(u.a)(v,2),E=b[0],w=b[1];return Object(a.useEffect)((function(){console.log("initApp"),f.a.auth().onAuthStateChanged((function(e){e?(e.displayName,e.email,e.emailVerified,e.photoURL,e.isAnonymous,e.uid,e.providerData,console.log("user json: "),console.log(JSON.stringify(e,null,"  ")),h("Inloggad"),w("Logga ut")):(h("Ej inloggad"),w("Logga in"))}))}),[]),o.a.createElement("div",null,o.a.createElement("p",null,"Ange email and l\xf6senord f\xf6r att logga in eller skapa ett konto"),o.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:function(e){return i(e.target.value)}}),"\xa0\xa0\xa0",o.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){if(console.log("toggleSignIn"),f.a.auth().currentUser)f.a.auth().signOut();else{if(r.length<4)return void alert("Ogiltig mailadress, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken.");if(s.length<4)return void alert("Ogiltigt l\xf6senord, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken.");f.a.auth().signInWithEmailAndPassword(r,s).catch((function(e){var t=e.code,n=e.message;"auth/wrong-password"===t?alert("fel l\xf6senord."):alert(n),console.log(e)}))}},name:"signin"}," ",E," "),"\xa0\xa0\xa0",o.a.createElement("button",{onClick:function(){console.log("handleSignUp"),r.length<4?alert("Ogiltig mailadress, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken"):s.length<4?alert("Ogiltigt l\xf6senord, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken"):f.a.auth().createUserWithEmailAndPassword(r,s).catch((function(e){var t=e.code,n=e.message;"auth/weak-password"==t?alert("L\xf6senordet \xe4r f\xf6r svagt."):alert(n),console.log(e)}))},name:"signup"},"Skapa konto"),"\xa0\xa0\xa0",o.a.createElement("button",{onClick:function(){f.a.auth().currentUser.sendEmailVerification().then((function(){alert("Email Verification Sent!")}))},name:"verify"},"Verifiera konto"),o.a.createElement("span",{id:"quickstart-sign-in-status"}," \xa0 ",p," "))},S=n(86),C=n(87),A=n(40),I=n.n(A),U=n(41),N=n.n(U),L=n(42),x=n.n(L),W=n(39),R=n.n(W);n(58).config();var D,B="AIzaSyAq0vTBf0o5MckjHcCOJiJ_DRK8v_UZY88";window.addEventListener("beforeinstallprompt",(function(e){D=e,console.log("beforeinstallprompt"),D.prompt(),D.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),D=null}))}));var H=Object(p.a)({body:{padding:15},footer:{position:"fixed",left:0,bottom:0,width:"100%",display:"flex",justifyContent:"center"},bottomMenu:{width:500},imageContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginBottom:50},foodImg:{backgroundColor:"pink",height:100,width:100,margin:5,borderRadius:20}});function J(e){var t=H();return console.log(e),o.a.createElement("div",null,o.a.createElement("div",{className:t.foodImg}),e.data.title)}function P(){var e=Object(a.useState)(void 0),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(void 0),l=Object(u.a)(i,2),d=(l[0],l[1]),m=Object(a.useState)(void 0),g=Object(u.a)(m,2);g[0],g[1];Object(a.useEffect)((function(){v()}),[]);var f=H(),p=M.collection("recipes"),h=function(e){console.log("remove "+e+" from parent component ")},v=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.get().then((function(e){var t=[],n=[];e.forEach((function(e){t.push(o.a.createElement(J,{key:e.id,listId:e.id,data:e.data(),removeFunction:h})),n.push(e.data())})),r(t),d(n)})).catch((function(e){console.log("Error getting documents",e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement("h1",null,"Nya recept!"),o.a.createElement("div",{className:f.imageContainer},n))}var M=void 0;var T=function(){var e=o.a.useState(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],i=o.a.useState(""),l=Object(u.a)(i,2),c=l[0],s=l[1],g=o.a.useState(!1),p=Object(u.a)(g,2),h=p[0],b=p[1];Object(a.useEffect)((function(){f.a.auth().onAuthStateChanged((function(e){r(!!e)}))}),[]),void 0===M&&(M=function(){console.log("run initFirebase");var e={apiKey:B,authDomain:"campuskost-firebase.firebaseapp.com",databaseURL:"https://campuskost-firebase.firebaseio.com",projectId:"campuskost-firebase",storageBucket:"campuskost-firebase.appspot.com",messagingSenderId:"477692438735",appId:"1:477692438735:web:2e6dce163d7f7ce8baafba",measurementId:"G-MDB52ZHJER"};return f.a.initializeApp(e),f.a.firestore()}());var w=H(),j=function(e,t){b(!0);var n=e.target.value;s(void 0!=n?n:t)};console.log("signedIn: "+n);var A=!0===n?"profile":"login";return console.log("profile_or_login: "+A),console.log("value: "+c),o.a.createElement("div",{className:w.body},o.a.createElement(d.a,null,h?o.a.createElement(m.a,{to:"/"+c}):null,o.a.createElement("div",{className:w.mainContainer},o.a.createElement("button",{value:A,onClick:function(e){return j(e)}},A),o.a.createElement(m.d,null,o.a.createElement(m.b,{exact:!0,path:"/"},o.a.createElement(P,null)),o.a.createElement(m.b,{path:"/login",component:y}),o.a.createElement(m.b,{path:"/profile",component:v}),o.a.createElement(m.b,{path:"/upload",component:O}),o.a.createElement(m.b,{path:"/notices",component:E}),o.a.createElement(m.b,{path:"/saved",component:k}))),o.a.createElement("div",{className:w.footer},o.a.createElement(S.a,{value:c,onChange:j,className:w.bottomMenu},o.a.createElement(C.a,{label:"Fl\xf6de",value:"",icon:o.a.createElement(R.a,null)}),o.a.createElement(C.a,{label:"Ladda up",value:"upload",icon:o.a.createElement(I.a,null)}),o.a.createElement(C.a,{label:"Notiser",value:"notices",icon:o.a.createElement(N.a,null)}),o.a.createElement(C.a,{label:"Sparat",value:"saved",icon:o.a.createElement(x.a,null)})))))},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(T,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");V?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_(t,e)}))}}()}},[[45,1,2]]]);
//# sourceMappingURL=main.d4505895.chunk.js.map