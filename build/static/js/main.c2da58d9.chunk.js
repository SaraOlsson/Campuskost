(this.webpackJsonpcampuskostreact=this.webpackJsonpcampuskostreact||[]).push([[0],{55:function(e,t,n){},73:function(e,t,n){e.exports=n(93)},82:function(e,t,n){},83:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),l=n(11),i=n(29),s=n(14);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Object(i.b)({testReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{num:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return m({},e,{num:e.num+t.step});case"DECREMENT":return m({},e,{num:e.num-t.step});default:return e}},uploadReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"title"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETTITLE":return m({},e,{title:t.title});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{signedIn:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"SIGNIN":return m({},e,{signedIn:!0});case"SIGNOUT":return m({},e,{signedIn:!1});default:return e}}}),p=(n(82),n(9)),g=n(30),f=n(25),b=(n(83),n(15)),E=n.n(b),h=(n(43),n(54),n(47),n(59),n(129));function v(e){var t=O();return r.a.createElement(g.a,{to:"/recipe/"+e.data.title},r.a.createElement("div",null,r.a.createElement("div",{className:t.foodImg}),e.data.title))}var O=Object(h.a)({imageContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginBottom:50},foodImg:{backgroundColor:"pink",height:100,width:100,margin:5,borderRadius:20}}),y=function(e){var t=Object(a.useState)(function(){for(var e=[],t=0;t<3;t++)e.push(r.a.createElement(v,{key:t,listId:t,data:{title:"Pannkaka",user:"Sara"}}));return e}()),n=Object(p.a)(t,2),c=n[0],o=(n[1],Object(a.useState)(void 0)),l=Object(p.a)(o,2),i=(l[0],l[1],Object(a.useState)(void 0)),s=Object(p.a)(i,2);s[0],s[1],Object(a.useEffect)((function(){}),[]);var u=O();return e.db.collection("recipes"),r.a.createElement("div",null,r.a.createElement("h1",null,"Nya recept!"),r.a.createElement("div",{className:u.imageContainer},c))},j=Object(h.a)({body:{padding:15}});var w=function(e){var t=r.a.useState(!1),n=Object(p.a)(t,2),a=(n[0],n[1],r.a.useState(!1)),c=Object(p.a)(a,2),o=(c[0],c[1],j(),Object(l.c)((function(e){return e.userReducer})));return console.log(o),r.a.createElement("div",null,o.signedIn?null:r.a.createElement(f.a,{to:"/"}),r.a.createElement("h1",null,"Hey you"),!1===o.signedIn&&r.a.createElement("p",null," Hey you're not signed in. Things won't work here (redirect back) "),r.a.createElement("button",{onClick:function(){return E.a.auth().signOut()},name:"signout"}," Logga ut "))},k=(n(55),n(137)),S=n(131),I=n(132),C=n(135),N=n(134),P=n(133),x=n(136),L=n(62),D=n.n(L),T=n(61),R=n.n(T),A=Object(h.a)({body:{padding:15}});var U=function(e){return r.a.createElement("span",{style:{fontWeight:"bold"}},e.children)};function W(e){var t;switch(e.type){case"FOLLOWS":t=r.a.createElement("span",null,r.a.createElement(U,null,e.user)," f\xf6ljer nu dig.");break;case"TIPS":t=r.a.createElement("span",null,r.a.createElement(U,null,e.user)," tipsar dig om att laga ",r.a.createElement(U,null,e.recipe),".");break;case"TESTED":t=r.a.createElement("span",null,r.a.createElement(U,null,e.user)," har testat ditt recept ",r.a.createElement(U,null,e.recipe),".")}return r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(P.a,null,r.a.createElement(R.a,null))),r.a.createElement(N.a,{primary:t,secondary:e.time}),r.a.createElement(C.a,null,r.a.createElement(x.a,{edge:"end","aria-label":"delete"},r.a.createElement(D.a,null))))}var B=function(e){return A(),r.a.createElement("div",null,r.a.createElement("h3",null,"Dina notiser"),r.a.createElement(k.a,{dense:!0},r.a.createElement(W,{type:"FOLLOWS",user:"Vegokocken",time:"1 h"}),r.a.createElement(W,{type:"TIPS",user:"DelicatoKing",recipe:"Linsgryta",time:"3 h"}),r.a.createElement(W,{type:"TESTED",user:"PastaMaster",recipe:"Korvstroganoff",time:"2 dgr"})))},G=Object(h.a)({body:{padding:15}});var M=function(e){return G(),r.a.createElement("div",null,r.a.createElement("h1",null,"Dina listor"))},H=n(139),F=n(146),J=n(145),V=n(141),K=n(144),q=n(140),z=n(138),Z=n(63),_=n.n(Z);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=X();return r.a.createElement(z.a,{item:!0,xs:e.xs},r.a.createElement(V.a,{disabled:!0,control:r.a.createElement(K.a,{checked:e.checked,color:"primary",className:t.nomargin})}))}var X=Object(h.a)({body:{padding:15},buttontext:{textTransform:"unset"},nomargin:{margin:0}}),ee=function(e){var t=r.a.useState(""),n=Object(p.a)(t,2),a=n[0],c=n[1],o=r.a.useState(0),l=Object(p.a)(o,2),i=l[0],u=l[1],m=r.a.useRef(null),d=r.a.useState({title:!1,ingredients:!1,desc:!1}),g=Object(p.a)(d,2),f=g[0],b=g[1],E=X();return r.a.useEffect((function(){u(m.current.offsetWidth)}),[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Ladda upp recept"),r.a.createElement("form",null,r.a.createElement(z.a,{container:!0,spacing:1,justify:"center",alignItems:"center"},r.a.createElement(Q,{checked:f.title,xs:2}),r.a.createElement(z.a,{item:!0,xs:9},r.a.createElement(H.a,{variant:"outlined"},r.a.createElement(F.a,{ref:m,htmlFor:"component-outlined"}," Rubrik "),r.a.createElement(J.a,{value:a,onChange:function(e){var t=e.target.value;c(t),b($({},f,Object(s.a)({},"title",t.length>2)))},labelWidth:i}))),r.a.createElement(Q,{checked:f.ingredients,xs:2}),r.a.createElement(z.a,{item:!0,xs:9}," ",r.a.createElement(q.a,{onClick:function(){b($({},f,Object(s.a)({},"ingredients",!0)))},variant:"contained",color:"primary",className:E.buttontext},"L\xe4gg till ingredienser")," "),r.a.createElement(Q,{checked:f.desc,xs:2}),r.a.createElement(z.a,{item:!0,xs:9}," ",r.a.createElement(q.a,{onClick:function(){b($({},f,Object(s.a)({},"desc",!0)))},variant:"contained",color:"primary",className:E.buttontext},"L\xe4gg till beskrivning")," "),r.a.createElement(z.a,{item:!0,xs:5},r.a.createElement(q.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(_.a,null)},"Upload")))))};var te=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Recept: ",e.match.params.recipe))};var ne=function(e){var t=Object(a.useState)(""),n=Object(p.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),s=Object(p.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)("Ej inloggad"),g=Object(p.a)(d,2),f=g[0],b=g[1],h=Object(a.useState)("Logga in"),v=Object(p.a)(h,2),O=v[0],y=v[1],j=Object(l.b)();return Object(a.useEffect)((function(){console.log("initApp"),E.a.auth().onAuthStateChanged((function(e){e?(e.displayName,e.email,e.emailVerified,e.photoURL,e.isAnonymous,e.uid,e.providerData,b("Inloggad"),y("Logga ut"),j({type:"SIGNIN",signedIn:""})):(b("Ej inloggad"),y("Logga in"),j({type:"SIGNOUT",signedIn:""}))}))}),[]),r.a.createElement("div",null,r.a.createElement("p",null,"Ange email and l\xf6senord f\xf6r att logga in eller skapa ett konto"),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:function(e){return o(e.target.value)}}),"\xa0\xa0\xa0",r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){if(console.log("toggleSignIn"),E.a.auth().currentUser)E.a.auth().signOut();else{if(c.length<4)return void alert("Ogiltig mailadress, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken.");if(u.length<4)return void alert("Ogiltigt l\xf6senord, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken.");E.a.auth().signInWithEmailAndPassword(c,u).catch((function(e){var t=e.code,n=e.message;"auth/wrong-password"===t?alert("fel l\xf6senord."):alert(n),console.log(e)}))}},name:"signin"}," ",O," "),"\xa0\xa0\xa0",r.a.createElement("button",{onClick:function(){console.log("handleSignUp"),c.length<4?alert("Ogiltig mailadress, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken"):u.length<4?alert("Ogiltigt l\xf6senord, m\xe5ste inneh\xe5lla mer \xe4n 4 tecken"):E.a.auth().createUserWithEmailAndPassword(c,u).catch((function(e){var t=e.code,n=e.message;"auth/weak-password"==t?alert("L\xf6senordet \xe4r f\xf6r svagt."):alert(n),console.log(e)}))},name:"signup"},"Skapa konto"),"\xa0\xa0\xa0",r.a.createElement("button",{onClick:function(){E.a.auth().currentUser.sendEmailVerification().then((function(){alert("Email Verification Sent!")}))},name:"verify"},"Verifiera konto"),r.a.createElement("span",{id:"quickstart-sign-in-status"}," \xa0 ",f," "))},ae=n(142),re=n(143),ce=n(66),oe=n.n(ce),le=n(67),ie=n.n(le),se=n(68),ue=n.n(se),me=n(65),de=n.n(me),pe=n(64),ge=n.n(pe);n(90).config();var fe,be="AIzaSyAq0vTBf0o5MckjHcCOJiJ_DRK8v_UZY88";window.addEventListener("beforeinstallprompt",(function(e){(fe=e).prompt(),fe.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),fe=null}))}));var Ee=void 0;function he(e){var t=ve();console.log(e);var n=!0===e.signedIn?"profile":"login",a=r.a.createElement("div",{className:t.profileBtn},r.a.createElement("button",{value:n,onClick:function(t){return e.handleChange(t)}},n)),c=e.signedIn?r.a.createElement(g.b,{to:"/profile"},r.a.createElement(ge.a,null)):a;return r.a.createElement("div",null,c," ")}var ve=Object(h.a)({body:{padding:15},footer:{position:"fixed",left:0,bottom:0,width:"100%",display:"flex",justifyContent:"center"},headerrow:{display:"flex",justifyContent:"flex-end"},profileBtn:{color:"green"},bottomMenu:{width:500}}),Oe=function(){var e=r.a.useState(""),t=Object(p.a)(e,2),n=t[0],c=t[1],o=r.a.useState(!1),i=Object(p.a)(o,2),s=i[0],u=i[1],m=ve(),d=Object(l.b)(),b=Object(l.c)((function(e){return e.userReducer}));console.log(b),Object(a.useEffect)((function(){E.a.auth().onAuthStateChanged((function(e){d({type:e?"SIGNIN":"SIGNOUT"})}))}),[]),void 0===Ee&&(Ee=function(){console.log("run initFirebase");var e={apiKey:be,authDomain:"campuskost-firebase.firebaseapp.com",databaseURL:"https://campuskost-firebase.firebaseio.com",projectId:"campuskost-firebase",storageBucket:"campuskost-firebase.appspot.com",messagingSenderId:"477692438735",appId:"1:477692438735:web:2e6dce163d7f7ce8baafba",measurementId:"G-MDB52ZHJER"};return E.a.initializeApp(e),E.a.firestore()}());var h=function(e,t){u(!0);var n=e.target.value;c(void 0!=n?n:t)};return r.a.createElement("div",{className:m.body},r.a.createElement(g.a,null,s?r.a.createElement(f.a,{to:"/"+n}):null,r.a.createElement("div",{className:m.mainContainer},r.a.createElement("div",{className:m.headerrow},r.a.createElement(he,{signedIn:b.signedIn,handleChange:h})),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/"},r.a.createElement(y,{db:Ee})),r.a.createElement(f.b,{path:"/login",component:ne}),r.a.createElement(f.b,{path:"/profile",component:w}),r.a.createElement(f.b,{path:"/upload",component:ee}),r.a.createElement(f.b,{path:"/notices",component:B}),r.a.createElement(f.b,{path:"/saved",component:M}),r.a.createElement(f.b,{path:"/recipe/:recipe",component:te}))),r.a.createElement("div",{className:m.footer},r.a.createElement(ae.a,{value:n,onChange:h,className:m.bottomMenu},r.a.createElement(re.a,{label:"Fl\xf6de",value:"",icon:r.a.createElement(de.a,null)}),r.a.createElement(re.a,{label:"Ladda up",value:"upload",icon:r.a.createElement(oe.a,null)}),r.a.createElement(re.a,{label:"Notiser",value:"notices",icon:r.a.createElement(ie.a,null)}),r.a.createElement(re.a,{label:"Sparat",value:"saved",icon:r.a.createElement(ue.a,null)})))))},ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var we=Object(i.c)(d),ke=document.getElementById("root");o.a.render(r.a.createElement(l.a,{store:we},r.a.createElement(Oe,null)),ke),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ye?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):je(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):je(t,e)}))}}()}},[[73,1,2]]]);
//# sourceMappingURL=main.c2da58d9.chunk.js.map